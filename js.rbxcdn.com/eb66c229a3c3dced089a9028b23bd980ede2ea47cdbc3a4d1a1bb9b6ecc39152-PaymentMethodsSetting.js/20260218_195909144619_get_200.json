{
  "metadata": {
    "timestamps": {
      "start": "2026-02-18T19:59:08.588407",
      "end": "2026-02-18T19:59:09.142537",
      "duration_ms": 554
    },
    "url": {
      "full": "https://js.rbxcdn.com/eb66c229a3c3dced089a9028b23bd980ede2ea47cdbc3a4d1a1bb9b6ecc39152-PaymentMethodsSetting.js",
      "protocol": "https",
      "domain": "js.rbxcdn.com",
      "path": "/eb66c229a3c3dced089a9028b23bd980ede2ea47cdbc3a4d1a1bb9b6ecc39152-PaymentMethodsSetting.js",
      "normalized_path": "/eb66c229a3c3dced089a9028b23bd980ede2ea47cdbc3a4d1a1bb9b6ecc39152-PaymentMethodsSetting.js",
      "query": {}
    },
    "method": "GET",
    "status_code": 200,
    "size": {
      "request_bytes": 0,
      "response_bytes": 42981,
      "compressed": false
    },
    "content_type": "application/javascript",
    "cache_status": "public, max-age=31536000"
  },
  "request": {
    "headers": {
      "sec-ch-ua-platform": "\"Linux\"",
      "user-agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"8\", \"Chromium\";v=\"144\", \"Google Chrome\";v=\"144\"",
      "sec-ch-ua-mobile": "?0",
      "accept": "*/*",
      "sec-fetch-site": "cross-site",
      "sec-fetch-mode": "no-cors",
      "sec-fetch-dest": "script",
      "sec-fetch-storage-access": "none",
      "referer": "https://www.roblox.com/",
      "accept-encoding": "gzip, deflate, br, zstd",
      "accept-language": "en-US,en;q=0.9,fil;q=0.8",
      "priority": "u=2"
    },
    "payload": null
  },
  "response": {
    "headers": {
      "content-type": "application/javascript",
      "date": "Wed, 11 Feb 2026 21:34:21 GMT",
      "last-modified": "Wed, 11 Feb 2026 21:06:21 GMT",
      "content-encoding": "br",
      "x-amz-server-side-encryption": "AES256",
      "cache-control": "public, max-age=31536000",
      "x-amz-version-id": "eCm0XYfccUdV4.jbgiwDnJC.t7IKv4Rc",
      "server": "AmazonS3",
      "etag": "W/\"205386f928e1db434316d334c3957938\"",
      "vary": "accept-encoding, Origin",
      "x-cache": "Hit from cloudfront",
      "via": "1.1 1b7c94274bd830ddf26396883b21ed8a.cloudfront.net (CloudFront)",
      "x-amz-cf-pop": "MNL51-P1",
      "x-amz-cf-id": "9sFt5gcYKs1GcG6rCuVH4UDedTVfzkuCkL53sU0JSX3FYpf3N_ho4w==",
      "age": "570290",
      "rbx-cdn-provider": "aws",
      "timing-allow-origin": "*",
      "nel": "{\"report_to\":\"network-errors\",\"max_age\":604800,\"success_fraction\":0,\"failure_fraction\":0.05,\"response_headers\":[\"Rbx-Cdn-Provider\",\"vary\"]}",
      "report-to": "{\"group\":\"network-errors\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https://ncs.roblox.com/upload\"}]}",
      "server-timing": "cdn-cache-hit,cdn-pop;desc=\"MNL51-P1\",cdn-rid;desc=\"9sFt5gcYKs1GcG6rCuVH4UDedTVfzkuCkL53sU0JSX3FYpf3N_ho4w==\",cdn-hit-layer;desc=\"EDGE\",cdn-downstream-fbl;dur=1"
    },
    "body": "!function(){var n={912:function(e,t,n){var r;function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}r=function(e,x){\"use strict\";function r(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},a=Object.keys(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&(\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"]);if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var o,s,u,c,d={exports:{}};d.exports=function(){if(c)return u;c=1;var i=s?o:(s=1,o=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\");function r(){}function a(){}return a.resetWarningCache=r,u=function(){function e(e,t,n,r,a,o){if(o!==i){o=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw o.name=\"Invariant Violation\",o}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n}}()();function N(t,n,e){var r=!!e,a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(!r||!t)return function(){};function e(){a.current&&a.current.apply(a,arguments)}return t.on(n,e),function(){t.off(n,e)}},[r,n,t,a])}function D(e){var t=x.useRef(e);return x.useEffect(function(){t.current=e},[e]),t.current}function f(e){return null!==e&&\"object\"===t(e)}function p(e,t){if(!f(e)||!f(t))return e===t;var n=Array.isArray(e);if(n!==Array.isArray(t))return!1;var r=Object.prototype.toString.call(e)===b;if(r!=(Object.prototype.toString.call(t)===b))return!1;if(!r&&!n)return e===t;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var i={},l=0;l<a.length;l+=1)i[a[l]]=!0;for(var s=0;s<o.length;s+=1)i[o[s]]=!0;if((n=Object.keys(i)).length!==a.length)return!1;var u=e,c=t;return n.every(function(e){return p(u[e],c[e])})}function R(r,a,o){return f(r)?Object.keys(r).reduce(function(e,t){var n=!f(a)||!p(r[t],a[t]);return o.includes(t)?(n&&console.warn(\"Unsupported prop change: options.\".concat(t,\" is not a mutable property.\")),e):n?i(i({},e||{}),{},l({},t,r[t])):e},null):null}function m(e,t){var n=1<arguments.length&&void 0!==t?t:E;if(null===e||f(t=e)&&\"function\"==typeof t.elements&&\"function\"==typeof t.createToken&&\"function\"==typeof t.createPaymentMethod&&\"function\"==typeof t.confirmCardPayment)return e;throw new Error(n)}function v(e,t){var n=1<arguments.length&&void 0!==t?t:E;return f(t=e)&&\"function\"==typeof t.then?{tag:\"async\",stripePromise:Promise.resolve(e).then(function(e){return m(e,n)})}:null===(e=m(e,n))?{tag:\"empty\"}:{tag:\"sync\",stripe:e}}function h(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:\"react-stripe-js\",version:\"3.6.0\"}),e.registerAppInfo({name:\"react-stripe-js\",version:\"3.6.0\",url:\"https://stripe.com/docs/stripe-js/react\"}))}var y=n(d.exports),b=\"[object Object]\",E=\"Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.\",g=x.createContext(null);g.displayName=\"ElementsContext\";function w(e,t){if(!e)throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(t,\" in an <Elements> provider.\"));return e}function C(e){var t=e.stripe,r=e.options,n=e.children,a=x.useMemo(function(){return v(t)},[t]),o=(e=_(x.useState(function(){return{stripe:\"sync\"===a.tag?a.stripe:null,elements:\"sync\"===a.tag?a.stripe.elements(r):null}}),2))[0],i=e[1];x.useEffect(function(){function t(t){i(function(e){return e.stripe?e:{stripe:t,elements:t.elements(r)}})}var n=!0;return\"async\"!==a.tag||o.stripe?\"sync\"!==a.tag||o.stripe||t(a.stripe):a.stripePromise.then(function(e){e&&n&&t(e)}),function(){n=!1}},[a,o,r]);var l=D(t);x.useEffect(function(){null!==l&&l!==t&&console.warn(\"Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.\")},[l,t]);var s=D(r);return x.useEffect(function(){var e;!o.elements||(e=R(r,s,[\"clientSecret\",\"fonts\"]))&&o.elements.update(e)},[r,s,o.elements]),x.useEffect(function(){h(o.stripe)},[o.stripe]),x.createElement(g.Provider,{value:o},n)}C.propTypes={stripe:y.any,options:y.object};function S(e){var t=x.useContext(g);return w(t,e)}function T(e){return(0,e.children)(S(\"mounts <ElementsConsumer>\"))}T.propTypes={children:y.func.isRequired};var A=[\"on\",\"session\"],P=x.createContext(null);P.displayName=\"CheckoutSdkContext\";function I(e,t){if(!e)throw new Error(\"Could not find CheckoutProvider context; You need to wrap the part of your app that \".concat(t,\" in an <CheckoutProvider> provider.\"));return e}var M=x.createContext(null);M.displayName=\"CheckoutContext\";function U(e){function n(t,n){u(function(e){return e.stripe&&e.checkoutSdk?e:{stripe:t,checkoutSdk:n}})}var t=e.stripe,r=e.options,a=e.children,o=x.useMemo(function(){return v(t,\"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.\")},[t]),i=(e=_(x.useState(null),2))[0],l=e[1],s=(e=_(x.useState(function(){return{stripe:\"sync\"===o.tag?o.stripe:null,checkoutSdk:null}}),2))[0],u=e[1],c=x.useRef(!1);x.useEffect(function(){var e=!0;return\"async\"!==o.tag||s.stripe?\"sync\"===o.tag&&o.stripe&&!c.current&&(c.current=!0,o.stripe.initCheckout(r).then(function(e){e&&(n(o.stripe,e),e.on(\"change\",l))})):o.stripePromise.then(function(t){t&&e&&!c.current&&(c.current=!0,t.initCheckout(r).then(function(e){e&&(n(t,e),e.on(\"change\",l))}))}),function(){e=!1}},[o,s,r,l]);var d=D(t);x.useEffect(function(){null!==d&&d!==t&&console.warn(\"Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.\")},[d,t]);var f=D(r);return x.useEffect(function(){var e,t;s.checkoutSdk&&(e=null==f||null===(e=f.elementsOptions)||void 0===e?void 0:e.appearance,(t=null==r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance)&&!p(t,e)&&s.checkoutSdk.changeAppearance(t))},[r,f,s.checkoutSdk]),x.useEffect(function(){h(s.stripe)},[s.stripe]),e=x.useMemo(function(){return function(e,t){if(!e)return null;e.on,e.session;var n=k(e,A);return t?Object.assign(t,n):Object.assign(e.session(),n)}(s.checkoutSdk,i)},[s.checkoutSdk,i]),s.checkoutSdk?x.createElement(P.Provider,{value:s},x.createElement(M.Provider,{value:e},a)):null}U.propTypes={stripe:y.any,options:y.shape({fetchClientSecret:y.func.isRequired,elementsOptions:y.object}).isRequired};function O(e){var t=x.useContext(P),n=x.useContext(g);if(t&&n)throw new Error(\"You cannot wrap the part of your app that \".concat(e,\" in both <CheckoutProvider> and <Elements> providers.\"));return t?I(t,e):w(n,e)}function L(A,e){var t,P=\"\".concat((t=A).charAt(0).toUpperCase()+t.slice(1),\"Element\");return(e=e?function(e){O(\"mounts <\".concat(P,\">\"));var t=e.id,e=e.className;return x.createElement(\"div\",{id:t,className:e})}:function(e){var t,n=e.id,r=e.className,a=e.options,o=void 0===a?{}:a,i=e.onBlur,l=e.onFocus,s=e.onReady,u=e.onChange,c=e.onEscape,d=e.onClick,f=e.onLoadError,p=e.onLoaderStart,m=e.onNetworksChange,v=e.onConfirm,h=e.onCancel,y=e.onShippingAddressChange,a=e.onShippingRateChange,e=O(\"mounts <\".concat(P,\">\")),b=\"elements\"in e?e.elements:null,E=\"checkoutSdk\"in e?e.checkoutSdk:null,e=_(x.useState(null),2),g=e[0],w=e[1],C=x.useRef(null),S=x.useRef(null);N(g,\"blur\",i),N(g,\"focus\",l),N(g,\"escape\",c),N(g,\"click\",d),N(g,\"loaderror\",f),N(g,\"loaderstart\",p),N(g,\"networkschange\",m),N(g,\"confirm\",v),N(g,\"cancel\",h),N(g,\"shippingaddresschange\",y),N(g,\"shippingratechange\",a),N(g,\"change\",u),s&&(t=\"expressCheckout\"===A?s:function(){s(g)}),N(g,\"ready\",t),x.useLayoutEffect(function(){if(null===C.current&&null!==S.current&&(b||E)){var e=null;if(E)switch(A){case\"payment\":e=E.createPaymentElement(o);break;case\"address\":if(!(\"mode\"in o))throw new Error(\"You must supply options.mode. mode must be 'billing' or 'shipping'.\");var t=o.mode,n=k(o,F);if(\"shipping\"===t)e=E.createShippingAddressElement(n);else{if(\"billing\"!==t)throw new Error(\"Invalid options.mode. mode must be 'billing' or 'shipping'.\");e=E.createBillingAddressElement(n)}break;case\"expressCheckout\":e=E.createExpressCheckoutElement(o);break;case\"currencySelector\":e=E.createCurrencySelectorElement();break;default:throw new Error(\"Invalid Element type \".concat(P,\". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />.\"))}else b&&(e=b.create(A,o));C.current=e,w(e),e&&e.mount(S.current)}},[b,E,o]);var T=D(o);return x.useEffect(function(){var e;!C.current||(e=R(o,T,[\"paymentRequest\"]))&&\"update\"in C.current&&C.current.update(e)},[o,T]),x.useLayoutEffect(function(){return function(){if(C.current&&\"function\"==typeof C.current.destroy)try{C.current.destroy(),C.current=null}catch(e){}}},[]),x.createElement(\"div\",{id:n,className:r,ref:S})}).propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},e.displayName=P,e.__elementType=A,e}var F=[\"mode\"],B=\"undefined\"==typeof window,G=x.createContext(null);G.displayName=\"EmbeddedCheckoutProviderContext\";function H(){var e=x.useContext(G);if(!e)throw new Error(\"<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>\");return e}var Y=B?function(e){var t=e.id,e=e.className;return H(),x.createElement(\"div\",{id:t,className:e})}:function(e){var t=e.id,e=e.className,n=H().embeddedCheckout,r=x.useRef(!1),a=x.useRef(null);return x.useLayoutEffect(function(){return!r.current&&n&&null!==a.current&&(n.mount(a.current),r.current=!0),function(){if(r.current&&n)try{n.unmount(),r.current=!1}catch(e){}}},[n]),x.createElement(\"div\",{ref:a,id:t,className:e})},W=L(\"auBankAccount\",B),j=L(\"card\",B),V=L(\"cardNumber\",B),q=L(\"cardExpiry\",B),X=L(\"cardCvc\",B),z=L(\"fpxBank\",B),K=L(\"iban\",B),Q=L(\"idealBank\",B),J=L(\"p24Bank\",B),Z=L(\"epsBank\",B),$=L(\"payment\",B),ee=L(\"expressCheckout\",B),te=L(\"currencySelector\",B),ne=L(\"paymentRequestButton\",B),re=L(\"linkAuthentication\",B),ae=L(\"address\",B),oe=L(\"shippingAddress\",B),ie=L(\"paymentMethodMessaging\",B),d=L(\"affirmMessage\",B),B=L(\"afterpayClearpayMessage\",B);e.AddressElement=ae,e.AffirmMessageElement=d,e.AfterpayClearpayMessageElement=B,e.AuBankAccountElement=W,e.CardCvcElement=X,e.CardElement=j,e.CardExpiryElement=q,e.CardNumberElement=V,e.CheckoutProvider=U,e.CurrencySelectorElement=te,e.Elements=C,e.ElementsConsumer=T,e.EmbeddedCheckout=Y,e.EmbeddedCheckoutProvider=function(e){var t=e.stripe,n=e.options,r=e.children,a=x.useMemo(function(){return v(t,\"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.\")},[t]),o=x.useRef(null),i=x.useRef(null),e=_(x.useState({embeddedCheckout:null}),2),l=e[0],s=e[1];x.useEffect(function(){var t;i.current||o.current||(t=function(e){i.current||o.current||(i.current=e,o.current=i.current.initEmbeddedCheckout(n).then(function(e){s({embeddedCheckout:e})}))},\"async\"!==a.tag||i.current||!n.clientSecret&&!n.fetchClientSecret?\"sync\"!==a.tag||i.current||!n.clientSecret&&!n.fetchClientSecret||t(a.stripe):a.stripePromise.then(function(e){e&&t(e)}))},[a,n,l,i]),x.useEffect(function(){return function(){l.embeddedCheckout?(o.current=null,l.embeddedCheckout.destroy()):o.current&&o.current.then(function(){o.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()})}},[l.embeddedCheckout]),x.useEffect(function(){h(i)},[i]);var u=D(t);x.useEffect(function(){null!==u&&u!==t&&console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.\")},[u,t]);var c=D(n);return x.useEffect(function(){null!=c&&(null!=n?(void 0===n.clientSecret&&void 0===n.fetchClientSecret&&console.warn(\"Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`.\"),null!=c.clientSecret&&n.clientSecret!==c.clientSecret&&console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.\"),null!=c.fetchClientSecret&&n.fetchClientSecret!==c.fetchClientSecret&&console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.\"),null!=c.onComplete&&n.onComplete!==c.onComplete&&console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.\"),null!=c.onShippingDetailsChange&&n.onShippingDetailsChange!==c.onShippingDetailsChange&&console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it.\"),null!=c.onLineItemsChange&&n.onLineItemsChange!==c.onLineItemsChange&&console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.\")):console.warn(\"Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.\"))},[c,n]),x.createElement(G.Provider,{value:l},r)},e.EpsBankElement=Z,e.ExpressCheckoutElement=ee,e.FpxBankElement=z,e.IbanElement=K,e.IdealBankElement=Q,e.LinkAuthenticationElement=re,e.P24BankElement=J,e.PaymentElement=$,e.PaymentMethodMessagingElement=ie,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=oe,e.useCheckout=function(){var e;t=\"calls useCheckout()\",e=x.useContext(P),I(e,t);var t=x.useContext(M);if(!t)throw new Error(\"Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.\");return t},e.useElements=function(){return S(\"calls useElements()\").elements},e.useStripe=function(){return O(\"calls useStripe()\").stripe}},\"object\"===a(t)?r(t,n(594)):(n=[t,n(594)],void 0===(r=\"function\"==typeof(r=r)?r.apply(t,n):r)||(e.exports=r))},870:function(e,t){var n;\n/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n!function(){\"use strict\";var i={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if(\"string\"==a||\"number\"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=l.apply(null,n))&&e.push(r);else if(\"object\"==a)if(n.toString===Object.prototype.toString||n.toString.toString().includes(\"[native code]\"))for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(\" \")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},594:function(e){\"use strict\";e.exports=React}},r={};function xl(e){var t=r[e];if(void 0!==t)return t.exports;t=r[e]={exports:{}};return n[e].call(t.exports,t,t.exports,xl),t.exports}xl.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return xl.d(t,{a:t}),t},xl.d=function(e,t){for(var n in t)xl.o(t,n)&&!xl.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},xl.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){\"use strict\";var Ee=xl(594),ge=xl.n(Ee),t=ReactDOM,P=Roblox,e=xl.n(P),te=ReactStyleGuide,n=ReactUtilities,r={common:[\"CommonUI.Features\",\"CommonUI.Controls\",\"Purchasing.RedeemGameCard\",\"Feature.Payment\"],feature:\"Feature.AccountSettings\"};function x(e){return(x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function k(e,t){if(t.length<e)throw new TypeError(e+\" argument\"+(1<e?\"s\":\"\")+\" required, but only \"+t.length+\" present\")}function _(e){k(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||\"object\"===x(e)&&\"[object Date]\"===t?new Date(e.getTime()):\"number\"==typeof e||\"[object Number]\"===t?new Date(e):(\"string\"!=typeof e&&\"[object String]\"!==t||\"undefined\"==typeof console||(console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\"),console.warn((new Error).stack)),new Date(NaN))}function a(e,t){k(2,arguments);e=_(e),t=_(t),t=e.getTime()-t.getTime();return t<0?-1:0<t?1:t}function S(e,t){k(2,arguments);var n=_(e),r=_(t),e=a(n,r),t=Math.abs(function(e,t){return k(2,arguments),e=_(e),t=_(t),e.getFullYear()-t.getFullYear()}(n,r));n.setFullYear(1584),r.setFullYear(1584);r=a(n,r)===-e,r=e*(t-Number(r));return 0==r?0:r}function s(){for(var e,t=document.querySelectorAll('script[src^=\"'.concat(c,'\"]')),n=0;n<t.length;n++){var r=t[n];if(e=r.src,f.test(e)||p.test(e))return r}return null}function u(e){var t=e&&!e.advancedFraudSignals?\"?advancedFraudSignals=false\":\"\";if((e=document.createElement(\"script\")).src=\"\".concat(d).concat(t),!(t=document.head||document.body))throw new Error(\"Expected document.body not to be null. Stripe.js requires a <body> element.\");return t.appendChild(e),e}function o(l){return null!==v?v:(v=new Promise(function(e,t){var n,r,a;if(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)if(window.Stripe&&l&&console.warn(m),window.Stripe)e(window.Stripe);else try{var o,i=s();i&&l?console.warn(m):i?i&&null!==y&&null!==h&&(i.removeEventListener(\"load\",y),i.removeEventListener(\"error\",h),null!==(o=i.parentNode)&&void 0!==o&&o.removeChild(i),i=u(l)):i=u(l),r=e,y=function(){window.Stripe?r(window.Stripe):a(new Error(\"Stripe.js not available\"))},n=a=t,h=function(e){n(new Error(\"Failed to load Stripe.js\",{cause:e}))},i.addEventListener(\"load\",y),i.addEventListener(\"error\",h)}catch(e){return void t(e)}else e(null)})).catch(function(e){return v=null,Promise.reject(e)})}function i(){return l=l||o(null).catch(function(e){return l=null,Promise.reject(e)})}var l,we=window.EventTracker?EventTracker:{fireEvent:console.log,start:console.log,endSuccess:console.log,endCancel:console.log,endFailure:console.log},c=\"https://js.stripe.com\",d=\"\".concat(c,\"/\").concat(\"basil\",\"/stripe.js\"),f=/^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/,p=/^https:\\/\\/js\\.stripe\\.com\\/(v3|[a-z]+)\\/stripe\\.js(\\?.*)?$/,m=\"loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used\",v=null,h=null,y=null,b=!1;function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b=!0;var r=Date.now();return i().then(function(e){return function(e,t,n){if(null===e)return null;var r,a=t[0].match(/^pk_test/),r=3===(r=e.version)?\"v3\":r;a&&\"basil\"!==r&&console.warn(\"Stripe.js@\".concat(r,\" was loaded on the page, but @stripe/stripe-js@\").concat(\"7.2.0\",\" expected Stripe.js@\").concat(\"basil\",\". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning\"));e=e.apply(void 0,t);return t=n,(n=e)&&n._registerWrapper&&n._registerWrapper({name:\"stripe-js\",version:\"7.2.0\",startTime:t}),e}(e,t,r)})}Promise.resolve().then(i).catch(function(e){b||console.warn(e)});var D=xl(912);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}var g={lessThanXSeconds:{one:\"less than a second\",other:\"less than {{count}} seconds\"},xSeconds:{one:\"1 second\",other:\"{{count}} seconds\"},halfAMinute:\"half a minute\",lessThanXMinutes:{one:\"less than a minute\",other:\"less than {{count}} minutes\"},xMinutes:{one:\"1 minute\",other:\"{{count}} minutes\"},aboutXHours:{one:\"about 1 hour\",other:\"about {{count}} hours\"},xHours:{one:\"1 hour\",other:\"{{count}} hours\"},xDays:{one:\"1 day\",other:\"{{count}} days\"},aboutXWeeks:{one:\"about 1 week\",other:\"about {{count}} weeks\"},xWeeks:{one:\"1 week\",other:\"{{count}} weeks\"},aboutXMonths:{one:\"about 1 month\",other:\"about {{count}} months\"},xMonths:{one:\"1 month\",other:\"{{count}} months\"},aboutXYears:{one:\"about 1 year\",other:\"about {{count}} years\"},xYears:{one:\"1 year\",other:\"{{count}} years\"},overXYears:{one:\"over 1 year\",other:\"over {{count}} years\"},almostXYears:{one:\"almost 1 year\",other:\"almost {{count}} years\"}};function w(t){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=e.width?String(e.width):t.defaultWidth;return t.formats[e]||t.formats[t.defaultWidth]}}var C={date:w({formats:{full:\"EEEE, MMMM do, y\",long:\"MMMM do, y\",medium:\"MMM d, y\",short:\"MM/dd/yyyy\"},defaultWidth:\"full\"}),time:w({formats:{full:\"h:mm:ss a zzzz\",long:\"h:mm:ss a z\",medium:\"h:mm:ss a\",short:\"h:mm a\"},defaultWidth:\"full\"}),dateTime:w({formats:{full:\"{{date}} 'at' {{time}}\",long:\"{{date}} 'at' {{time}}\",medium:\"{{date}}, {{time}}\",short:\"{{date}}, {{time}}\"},defaultWidth:\"full\"})},T={lastWeek:\"'last' eeee 'at' p\",yesterday:\"'yesterday at' p\",today:\"'today at' p\",tomorrow:\"'tomorrow at' p\",nextWeek:\"eeee 'at' p\",other:\"P\"};function A(a){return function(e,t){var n,r;return(\"formatting\"===(null!=t&&t.context?String(t.context):\"standalone\")&&a.formattingValues?(r=a.defaultFormattingWidth||a.defaultWidth,n=null!=t&&t.width?String(t.width):r,a.formattingValues[n]||a.formattingValues[r]):(r=a.defaultWidth,t=null!=t&&t.width?String(t.width):a.defaultWidth,a.values[t]||a.values[r]))[a.argumentCallback?a.argumentCallback(e):e]}}function I(o){return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.width,r=n&&o.matchPatterns[n]||o.matchPatterns[o.defaultMatchWidth],r=e.match(r);if(!r)return null;var a=r[0],n=n&&o.parsePatterns[n]||o.parsePatterns[o.defaultParseWidth],n=Array.isArray(n)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(n,function(e){return e.test(a)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(n,function(e){return e.test(a)}),n=o.valueCallback?o.valueCallback(n):n;return{value:n=t.valueCallback?t.valueCallback(n):n,rest:e.slice(a.length)}}}var M,U={code:\"en-US\",formatDistance:function(e,t,n){e=g[e],t=\"string\"==typeof e?e:1===t?e.one:e.other.replace(\"{{count}}\",t.toString());return null!=n&&n.addSuffix?n.comparison&&0<n.comparison?\"in \"+t:t+\" ago\":t},formatLong:C,formatRelative:function(e){return T[e]},localize:{ordinalNumber:function(e){var t=Number(e),e=t%100;if(20<e||e<10)switch(e%10){case 1:return t+\"st\";case 2:return t+\"nd\";case 3:return t+\"rd\"}return t+\"th\"},era:A({values:{narrow:[\"B\",\"A\"],abbreviated:[\"BC\",\"AD\"],wide:[\"Before Christ\",\"Anno Domini\"]},defaultWidth:\"wide\"}),quarter:A({values:{narrow:[\"1\",\"2\",\"3\",\"4\"],abbreviated:[\"Q1\",\"Q2\",\"Q3\",\"Q4\"],wide:[\"1st quarter\",\"2nd quarter\",\"3rd quarter\",\"4th quarter\"]},defaultWidth:\"wide\",argumentCallback:function(e){return e-1}}),month:A({values:{narrow:[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],abbreviated:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],wide:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]},defaultWidth:\"wide\"}),day:A({values:{narrow:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],short:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],abbreviated:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],wide:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},defaultWidth:\"wide\"}),dayPeriod:A({values:{narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"morning\",afternoon:\"afternoon\",evening:\"evening\",night:\"night\"}},defaultWidth:\"wide\",formattingValues:{narrow:{am:\"a\",pm:\"p\",midnight:\"mi\",noon:\"n\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},abbreviated:{am:\"AM\",pm:\"PM\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"},wide:{am:\"a.m.\",pm:\"p.m.\",midnight:\"midnight\",noon:\"noon\",morning:\"in the morning\",afternoon:\"in the afternoon\",evening:\"in the evening\",night:\"at night\"}},defaultFormattingWidth:\"wide\"})},match:{ordinalNumber:(M={matchPattern:/^(\\d+)(th|st|nd|rd)?/i,parsePattern:/\\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.match(M.matchPattern);if(!n)return null;var r=n[0],n=e.match(M.parsePattern);if(!n)return null;n=M.valueCallback?M.valueCallback(n[0]):n[0];return{value:n=t.valueCallback?t.valueCallback(n):n,rest:e.slice(r.length)}}),era:I({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:\"wide\",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:\"any\"}),quarter:I({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:\"wide\",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:\"any\",valueCallback:function(e){return e+1}}),month:I({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:\"wide\",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:\"any\"}),day:I({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:\"wide\",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:\"any\"}),dayPeriod:I({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:\"any\",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:\"any\"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function O(e){if(null===e||!0===e||!1===e)return NaN;e=Number(e);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function L(e,t){return k(2,arguments),function(e,t){return k(2,arguments),e=_(e).getTime(),t=O(t),new Date(e+t)}(e,-O(t))}function F(e,t){switch(e){case\"P\":return t.date({width:\"short\"});case\"PP\":return t.date({width:\"medium\"});case\"PPP\":return t.date({width:\"long\"});case\"PPPP\":default:return t.date({width:\"full\"})}}function B(e,t){switch(e){case\"p\":return t.time({width:\"short\"});case\"pp\":return t.time({width:\"medium\"});case\"ppp\":return t.time({width:\"long\"});case\"pppp\":default:return t.time({width:\"full\"})}}var G={p:B,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],a=r[1],r=r[2];if(!r)return F(e,t);switch(a){case\"P\":n=t.dateTime({width:\"short\"});break;case\"PP\":n=t.dateTime({width:\"medium\"});break;case\"PPP\":n=t.dateTime({width:\"long\"});break;case\"PPPP\":default:n=t.dateTime({width:\"full\"})}return n.replace(\"{{date}}\",F(a,t)).replace(\"{{time}}\",B(r,t))}},H=[\"D\",\"DD\"],Y=[\"YY\",\"YYYY\"];function W(e,t,n){if(\"YYYY\"===e)throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(t,\"`) for formatting years to the input `\").concat(n,\"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));if(\"YY\"===e)throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(t,\"`) for formatting years to the input `\").concat(n,\"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));if(\"D\"===e)throw new RangeError(\"Use `d` instead of `D` (in `\".concat(t,\"`) for formatting days of the month to the input `\").concat(n,\"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));if(\"DD\"===e)throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(t,\"`) for formatting days of the month to the input `\").concat(n,\"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"))}function j(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&V(e,t)}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(n){var r=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=X(n);return function(e,t){if(t&&(\"object\"===x(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return j(e)}(this,r?(e=X(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function K(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Q(e){e=function(e,t){if(\"object\"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return(\"string\"===t?String:Number)(e);if(\"object\"!==x(t=n.call(e,t||\"default\")))return t;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}(e,\"string\");return\"symbol\"===x(e)?e:String(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Z(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function $(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=10,ne=function(){function e(){K(this,e),$(this,\"priority\",void 0),$(this,\"subPriority\",0)}return Z(e,[{key:\"validate\",value:function(){return!0}}]),e}(),re=function(){q(l,ne);var i=z(l);function l(e,t,n,r,a){var o;return K(this,l),(o=i.call(this)).value=e,o.validateValue=t,o.setValue=n,o.priority=r,a&&(o.subPriority=a),o}return Z(l,[{key:\"validate\",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:\"set\",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),l}(),ae=function(){q(o,ne);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",ee),$(j(e),\"subPriority\",-1),e}return Z(o,[{key:\"set\",value:function(e,t){if(t.timestampIsSet)return e;t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}}]),o}(),oe=function(){function e(){K(this,e),$(this,\"incompatibleTokens\",void 0),$(this,\"priority\",void 0),$(this,\"subPriority\",void 0)}return Z(e,[{key:\"run\",value:function(e,t,n,r){r=this.parse(e,t,n,r);return r?{setter:new re(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}},{key:\"validate\",value:function(){return!0}}]),e}(),ie=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",140),$(j(e),\"incompatibleTokens\",[\"R\",\"u\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"G\":case\"GG\":case\"GGG\":return n.era(e,{width:\"abbreviated\"})||n.era(e,{width:\"narrow\"});case\"GGGGG\":return n.era(e,{width:\"narrow\"});case\"GGGG\":default:return n.era(e,{width:\"wide\"})||n.era(e,{width:\"abbreviated\"})||n.era(e,{width:\"narrow\"})}}},{key:\"set\",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),o}(),le=24*Math.pow(10,8)*60*60*1e3,se=/^(1[0-2]|0?\\d)/,ue=/^(3[0-1]|[0-2]?\\d)/,ce=/^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,de=/^(5[0-3]|[0-4]?\\d)/,fe=/^(2[0-3]|[0-1]?\\d)/,pe=/^(2[0-4]|[0-1]?\\d)/,me=/^(1[0-1]|0?\\d)/,ve=/^(1[0-2]|0?\\d)/,he=/^[0-5]?\\d/,ye=/^[0-5]?\\d/,be=/^\\d/,Ce=/^\\d{1,2}/,Se=/^\\d{1,3}/,Te=/^\\d{1,4}/,Ae=/^-?\\d+/,Pe=/^-?\\d/,xe=/^-?\\d{1,2}/,ke=/^-?\\d{1,3}/,_e=/^-?\\d{1,4}/,Ne=/^([+-])(\\d{2})(\\d{2})?|Z/,De=/^([+-])(\\d{2})(\\d{2})|Z/,Re=/^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,Ie=/^([+-])(\\d{2}):(\\d{2})|Z/,Me=/^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/;function Ue(e,t){return e&&{value:t(e.value),rest:e.rest}}function Oe(e,t){e=t.match(e);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Le(e,t){e=t.match(e);return e?\"Z\"===e[0]?{value:0,rest:t.slice(1)}:{value:(\"+\"===e[1]?1:-1)*(36e5*(e[2]?parseInt(e[2],10):0)+6e4*(e[3]?parseInt(e[3],10):0)+1e3*(e[5]?parseInt(e[5],10):0)),rest:t.slice(e[0].length)}:null}function Fe(e){return Oe(Ae,e)}function Be(e,t){switch(e){case 1:return Oe(be,t);case 2:return Oe(Ce,t);case 3:return Oe(Se,t);case 4:return Oe(Te,t);default:return Oe(new RegExp(\"^\\\\d{1,\"+e+\"}\"),t)}}function Ge(e,t){switch(e){case 1:return Oe(Pe,t);case 2:return Oe(xe,t);case 3:return Oe(ke,t);case 4:return Oe(_e,t);default:return Oe(new RegExp(\"^-?\\\\d{1,\"+e+\"}\"),t)}}function He(e){switch(e){case\"morning\":return 4;case\"evening\":return 17;case\"pm\":case\"noon\":case\"afternoon\":return 12;case\"am\":case\"midnight\":case\"night\":default:return 0}}function Ye(e,t){var n=0<t,t=n?t:1-t;return e=t<=50?e||100:(t=t+50,e+100*Math.floor(t/100)-(t%100<=e?100:0)),n?e:1-e}function We(e){return e%400==0||e%4==0&&e%100!=0}var je=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",130),$(j(e),\"incompatibleTokens\",[\"Y\",\"R\",\"u\",\"w\",\"I\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){function r(e){return{year:e,isTwoDigitYear:\"yy\"===t}}switch(t){case\"y\":return Ue(Be(4,e),r);case\"yo\":return Ue(n.ordinalNumber(e,{unit:\"year\"}),r);default:return Ue(Be(t.length,e),r)}}},{key:\"validate\",value:function(e,t){return t.isTwoDigitYear||0<t.year}},{key:\"set\",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){r=Ye(n.year,r);return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}n=\"era\"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),o}(),Ve={};function qe(e,t){var n,r,a;k(1,arguments);var o=O(null!==(i=null!==(a=null!==(a=null!==(n=null==t?void 0:t.weekStartsOn)&&void 0!==n?n:null==t||null===(r=t.locale)||void 0===r||null===(a=r.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==a?a:Ve.weekStartsOn)&&void 0!==a?a:null===(i=Ve.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:0);if(!(0<=o&&o<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");var i=_(e),e=i.getUTCDay(),o=(e<o?7:0)+e-o;return i.setUTCDate(i.getUTCDate()-o),i.setUTCHours(0,0,0,0),i}function Xe(e,t){var n;k(1,arguments);var r=_(e),a=r.getUTCFullYear(),o=O(null!==(l=null!==(l=null!==(l=null!==(e=null==t?void 0:t.firstWeekContainsDate)&&void 0!==e?e:null==t||null===(n=t.locale)||void 0===n||null===(l=n.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==l?l:Ve.firstWeekContainsDate)&&void 0!==l?l:null===(o=Ve.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==l?l:1);if(!(1<=o&&o<=7))throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");var i=new Date(0);i.setUTCFullYear(a+1,0,o),i.setUTCHours(0,0,0,0);var l=qe(i,t),i=new Date(0);i.setUTCFullYear(a,0,o),i.setUTCHours(0,0,0,0);t=qe(i,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=t.getTime()?a:a-1}var ze=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",130),$(j(e),\"incompatibleTokens\",[\"y\",\"R\",\"u\",\"Q\",\"q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"i\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){function r(e){return{year:e,isTwoDigitYear:\"YY\"===t}}switch(t){case\"Y\":return Ue(Be(4,e),r);case\"Yo\":return Ue(n.ordinalNumber(e,{unit:\"year\"}),r);default:return Ue(Be(t.length,e),r)}}},{key:\"validate\",value:function(e,t){return t.isTwoDigitYear||0<t.year}},{key:\"set\",value:function(e,t,n,r){var a=Xe(e,r);if(n.isTwoDigitYear){a=Ye(n.year,a);return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),qe(e,r)}n=\"era\"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(n,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),qe(e,r)}}]),o}();function Ke(e){k(1,arguments);var t=_(e),e=t.getUTCDay(),e=(e<1?7:0)+e-1;return t.setUTCDate(t.getUTCDate()-e),t.setUTCHours(0,0,0,0),t}var Qe=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",130),$(j(e),\"incompatibleTokens\",[\"G\",\"y\",\"Y\",\"u\",\"Q\",\"q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t){return Ge(\"R\"===t?4:t.length,e)}},{key:\"set\",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),Ke(r)}}]),o}(),Je=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",130),$(j(e),\"incompatibleTokens\",[\"G\",\"y\",\"Y\",\"R\",\"w\",\"I\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t){return Ge(\"u\"===t?4:t.length,e)}},{key:\"set\",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),o}(),Ze=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",120),$(j(e),\"incompatibleTokens\",[\"Y\",\"R\",\"q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"Q\":case\"QQ\":return Be(t.length,e);case\"Qo\":return n.ordinalNumber(e,{unit:\"quarter\"});case\"QQQ\":return n.quarter(e,{width:\"abbreviated\",context:\"formatting\"})||n.quarter(e,{width:\"narrow\",context:\"formatting\"});case\"QQQQQ\":return n.quarter(e,{width:\"narrow\",context:\"formatting\"});case\"QQQQ\":default:return n.quarter(e,{width:\"wide\",context:\"formatting\"})||n.quarter(e,{width:\"abbreviated\",context:\"formatting\"})||n.quarter(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=4}},{key:\"set\",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),o}(),$e=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",120),$(j(e),\"incompatibleTokens\",[\"Y\",\"R\",\"Q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"q\":case\"qq\":return Be(t.length,e);case\"qo\":return n.ordinalNumber(e,{unit:\"quarter\"});case\"qqq\":return n.quarter(e,{width:\"abbreviated\",context:\"standalone\"})||n.quarter(e,{width:\"narrow\",context:\"standalone\"});case\"qqqqq\":return n.quarter(e,{width:\"narrow\",context:\"standalone\"});case\"qqqq\":default:return n.quarter(e,{width:\"wide\",context:\"standalone\"})||n.quarter(e,{width:\"abbreviated\",context:\"standalone\"})||n.quarter(e,{width:\"narrow\",context:\"standalone\"})}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=4}},{key:\"set\",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),o}(),et=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"incompatibleTokens\",[\"Y\",\"R\",\"q\",\"Q\",\"L\",\"w\",\"I\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]),$(j(e),\"priority\",110),e}return Z(o,[{key:\"parse\",value:function(e,t,n){function r(e){return e-1}switch(t){case\"M\":return Ue(Oe(se,e),r);case\"MM\":return Ue(Be(2,e),r);case\"Mo\":return Ue(n.ordinalNumber(e,{unit:\"month\"}),r);case\"MMM\":return n.month(e,{width:\"abbreviated\",context:\"formatting\"})||n.month(e,{width:\"narrow\",context:\"formatting\"});case\"MMMMM\":return n.month(e,{width:\"narrow\",context:\"formatting\"});case\"MMMM\":default:return n.month(e,{width:\"wide\",context:\"formatting\"})||n.month(e,{width:\"abbreviated\",context:\"formatting\"})||n.month(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=11}},{key:\"set\",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),o}(),tt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",110),$(j(e),\"incompatibleTokens\",[\"Y\",\"R\",\"q\",\"Q\",\"M\",\"w\",\"I\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){function r(e){return e-1}switch(t){case\"L\":return Ue(Oe(se,e),r);case\"LL\":return Ue(Be(2,e),r);case\"Lo\":return Ue(n.ordinalNumber(e,{unit:\"month\"}),r);case\"LLL\":return n.month(e,{width:\"abbreviated\",context:\"standalone\"})||n.month(e,{width:\"narrow\",context:\"standalone\"});case\"LLLLL\":return n.month(e,{width:\"narrow\",context:\"standalone\"});case\"LLLL\":default:return n.month(e,{width:\"wide\",context:\"standalone\"})||n.month(e,{width:\"abbreviated\",context:\"standalone\"})||n.month(e,{width:\"narrow\",context:\"standalone\"})}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=11}},{key:\"set\",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),o}(),nt=6048e5;function rt(e,t){k(1,arguments);e=_(e),t=qe(e,t).getTime()-function(e,t){var n,r,a;k(1,arguments);var o=O(null!==(i=null!==(a=null!==(a=null!==(n=null==t?void 0:t.firstWeekContainsDate)&&void 0!==n?n:null==t||null===(r=t.locale)||void 0===r||null===(a=r.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==a?a:Ve.firstWeekContainsDate)&&void 0!==a?a:null===(i=Ve.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:1),i=Xe(e,t);return(e=new Date(0)).setUTCFullYear(i,0,o),e.setUTCHours(0,0,0,0),qe(e,t)}(e,t).getTime();return Math.round(t/nt)+1}var at=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",100),$(j(e),\"incompatibleTokens\",[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"i\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"w\":return Oe(de,e);case\"wo\":return n.ordinalNumber(e,{unit:\"week\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=53}},{key:\"set\",value:function(e,t,n,r){return qe(function(e,t,n){return k(2,arguments),e=_(e),t=O(t),t=rt(e,n)-t,e.setUTCDate(e.getUTCDate()-7*t),e}(e,n,r),r)}}]),o}();function ot(e){k(1,arguments);var t=function(e){k(1,arguments);var t=_(e),n=t.getUTCFullYear(),r=new Date(0);return r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0),e=Ke(r),(r=new Date(0)).setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),r=Ke(r),t.getTime()>=e.getTime()?n+1:t.getTime()>=r.getTime()?n:n-1}(e),e=new Date(0);return e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0),Ke(e)}var it=6048e5;function lt(e,t){k(2,arguments);e=_(e),t=O(t),t=function(e){return k(1,arguments),e=Ke(e=_(e)).getTime()-ot(e).getTime(),Math.round(e/it)+1}(e)-t;return e.setUTCDate(e.getUTCDate()-7*t),e}var st=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",100),$(j(e),\"incompatibleTokens\",[\"y\",\"Y\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"I\":return Oe(de,e);case\"Io\":return n.ordinalNumber(e,{unit:\"week\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=53}},{key:\"set\",value:function(e,t,n){return Ke(lt(e,n))}}]),o}(),ut=[31,28,31,30,31,30,31,31,30,31,30,31],ct=[31,29,31,30,31,30,31,31,30,31,30,31],dt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",90),$(j(e),\"subPriority\",1),$(j(e),\"incompatibleTokens\",[\"Y\",\"R\",\"q\",\"Q\",\"w\",\"I\",\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"d\":return Oe(ue,e);case\"do\":return n.ordinalNumber(e,{unit:\"date\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){var n=We(e.getUTCFullYear()),e=e.getUTCMonth();return n?1<=t&&t<=ct[e]:1<=t&&t<=ut[e]}},{key:\"set\",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),o}(),ft=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",90),$(j(e),\"subpriority\",1),$(j(e),\"incompatibleTokens\",[\"Y\",\"R\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"I\",\"d\",\"E\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"D\":case\"DD\":return Oe(ce,e);case\"Do\":return n.ordinalNumber(e,{unit:\"date\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return We(e.getUTCFullYear())?1<=t&&t<=366:1<=t&&t<=365}},{key:\"set\",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),o}();function pt(e,t,n){var r,a,o;k(2,arguments);var i=O(null!==(i=null!==(o=null!==(o=null!==(r=null==n?void 0:n.weekStartsOn)&&void 0!==r?r:null==n||null===(a=n.locale)||void 0===a||null===(o=a.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==o?o:Ve.weekStartsOn)&&void 0!==o?o:null===(o=Ve.locale)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==i?i:0);if(!(0<=i&&i<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");e=_(e),t=O(t),t=((7+t%7)%7<i?7:0)+t-e.getUTCDay();return e.setUTCDate(e.getUTCDate()+t),e}var mt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",90),$(j(e),\"incompatibleTokens\",[\"D\",\"i\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"E\":case\"EE\":case\"EEE\":return n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"EEEEE\":return n.day(e,{width:\"narrow\",context:\"formatting\"});case\"EEEEEE\":return n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"EEEE\":default:return n.day(e,{width:\"wide\",context:\"formatting\"})||n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=6}},{key:\"set\",value:function(e,t,n,r){return(e=pt(e,n,r)).setUTCHours(0,0,0,0),e}}]),o}(),vt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",90),$(j(e),\"incompatibleTokens\",[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"E\",\"i\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n,r){function a(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t}switch(t){case\"e\":case\"ee\":return Ue(Be(t.length,e),a);case\"eo\":return Ue(n.ordinalNumber(e,{unit:\"day\"}),a);case\"eee\":return n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeeee\":return n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeeeee\":return n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"});case\"eeee\":default:return n.day(e,{width:\"wide\",context:\"formatting\"})||n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=6}},{key:\"set\",value:function(e,t,n,r){return(e=pt(e,n,r)).setUTCHours(0,0,0,0),e}}]),o}(),ht=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",90),$(j(e),\"incompatibleTokens\",[\"y\",\"R\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"I\",\"d\",\"D\",\"E\",\"i\",\"e\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n,r){function a(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t}switch(t){case\"c\":case\"cc\":return Ue(Be(t.length,e),a);case\"co\":return Ue(n.ordinalNumber(e,{unit:\"day\"}),a);case\"ccc\":return n.day(e,{width:\"abbreviated\",context:\"standalone\"})||n.day(e,{width:\"short\",context:\"standalone\"})||n.day(e,{width:\"narrow\",context:\"standalone\"});case\"ccccc\":return n.day(e,{width:\"narrow\",context:\"standalone\"});case\"cccccc\":return n.day(e,{width:\"short\",context:\"standalone\"})||n.day(e,{width:\"narrow\",context:\"standalone\"});case\"cccc\":default:return n.day(e,{width:\"wide\",context:\"standalone\"})||n.day(e,{width:\"abbreviated\",context:\"standalone\"})||n.day(e,{width:\"short\",context:\"standalone\"})||n.day(e,{width:\"narrow\",context:\"standalone\"})}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=6}},{key:\"set\",value:function(e,t,n,r){return(e=pt(e,n,r)).setUTCHours(0,0,0,0),e}}]),o}(),yt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",90),$(j(e),\"incompatibleTokens\",[\"y\",\"Y\",\"u\",\"q\",\"Q\",\"M\",\"L\",\"w\",\"d\",\"D\",\"E\",\"e\",\"c\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){function r(e){return 0===e?7:e}switch(t){case\"i\":case\"ii\":return Be(t.length,e);case\"io\":return n.ordinalNumber(e,{unit:\"day\"});case\"iii\":return Ue(n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"}),r);case\"iiiii\":return Ue(n.day(e,{width:\"narrow\",context:\"formatting\"}),r);case\"iiiiii\":return Ue(n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"}),r);case\"iiii\":default:return Ue(n.day(e,{width:\"wide\",context:\"formatting\"})||n.day(e,{width:\"abbreviated\",context:\"formatting\"})||n.day(e,{width:\"short\",context:\"formatting\"})||n.day(e,{width:\"narrow\",context:\"formatting\"}),r)}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=7}},{key:\"set\",value:function(e,t,n){return(e=function(e,t){return k(2,arguments),(t=O(t))%7==0&&(t-=7),e=_(e),t=((7+t%7)%7<1?7:0)+t-e.getUTCDay(),e.setUTCDate(e.getUTCDate()+t),e}(e,n)).setUTCHours(0,0,0,0),e}}]),o}(),bt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",80),$(j(e),\"incompatibleTokens\",[\"b\",\"B\",\"H\",\"k\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"a\":case\"aa\":case\"aaa\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"aaaaa\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"aaaa\":default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"set\",value:function(e,t,n){return e.setUTCHours(He(n),0,0,0),e}}]),o}(),Et=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",80),$(j(e),\"incompatibleTokens\",[\"a\",\"B\",\"H\",\"k\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"b\":case\"bb\":case\"bbb\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"bbbbb\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"bbbb\":default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"set\",value:function(e,t,n){return e.setUTCHours(He(n),0,0,0),e}}]),o}(),gt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",80),$(j(e),\"incompatibleTokens\",[\"a\",\"b\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"B\":case\"BB\":case\"BBB\":return n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"BBBBB\":return n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"});case\"BBBB\":default:return n.dayPeriod(e,{width:\"wide\",context:\"formatting\"})||n.dayPeriod(e,{width:\"abbreviated\",context:\"formatting\"})||n.dayPeriod(e,{width:\"narrow\",context:\"formatting\"})}}},{key:\"set\",value:function(e,t,n){return e.setUTCHours(He(n),0,0,0),e}}]),o}(),wt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",70),$(j(e),\"incompatibleTokens\",[\"H\",\"K\",\"k\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"h\":return Oe(ve,e);case\"ho\":return n.ordinalNumber(e,{unit:\"hour\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=12}},{key:\"set\",value:function(e,t,n){var r=12<=e.getUTCHours();return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),o}(),Ct=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",70),$(j(e),\"incompatibleTokens\",[\"a\",\"b\",\"h\",\"K\",\"k\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"H\":return Oe(fe,e);case\"Ho\":return n.ordinalNumber(e,{unit:\"hour\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=23}},{key:\"set\",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),o}(),St=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",70),$(j(e),\"incompatibleTokens\",[\"h\",\"H\",\"k\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"K\":return Oe(me,e);case\"Ko\":return n.ordinalNumber(e,{unit:\"hour\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=11}},{key:\"set\",value:function(e,t,n){return 12<=e.getUTCHours()&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),o}(),Tt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",70),$(j(e),\"incompatibleTokens\",[\"a\",\"b\",\"h\",\"H\",\"K\",\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"k\":return Oe(pe,e);case\"ko\":return n.ordinalNumber(e,{unit:\"hour\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 1<=t&&t<=24}},{key:\"set\",value:function(e,t,n){n=n<=24?n%24:n;return e.setUTCHours(n,0,0,0),e}}]),o}(),At=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",60),$(j(e),\"incompatibleTokens\",[\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"m\":return Oe(he,e);case\"mo\":return n.ordinalNumber(e,{unit:\"minute\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=59}},{key:\"set\",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),o}(),Pt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",50),$(j(e),\"incompatibleTokens\",[\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t,n){switch(t){case\"s\":return Oe(ye,e);case\"so\":return n.ordinalNumber(e,{unit:\"second\"});default:return Be(t.length,e)}}},{key:\"validate\",value:function(e,t){return 0<=t&&t<=59}},{key:\"set\",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),o}(),xt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",30),$(j(e),\"incompatibleTokens\",[\"t\",\"T\"]),e}return Z(o,[{key:\"parse\",value:function(e,t){return Ue(Be(t.length,e),function(e){return Math.floor(e*Math.pow(10,3-t.length))})}},{key:\"set\",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),o}(),kt=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",10),$(j(e),\"incompatibleTokens\",[\"t\",\"T\",\"x\"]),e}return Z(o,[{key:\"parse\",value:function(e,t){switch(t){case\"X\":return Le(Ne,e);case\"XX\":return Le(De,e);case\"XXXX\":return Le(Re,e);case\"XXXXX\":return Le(Me,e);case\"XXX\":default:return Le(Ie,e)}}},{key:\"set\",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),o}(),_t=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",10),$(j(e),\"incompatibleTokens\",[\"t\",\"T\",\"X\"]),e}return Z(o,[{key:\"parse\",value:function(e,t){switch(t){case\"x\":return Le(Ne,e);case\"xx\":return Le(De,e);case\"xxxx\":return Le(Re,e);case\"xxxxx\":return Le(Me,e);case\"xxx\":default:return Le(Ie,e)}}},{key:\"set\",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),o}(),C=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",40),$(j(e),\"incompatibleTokens\",\"*\"),e}return Z(o,[{key:\"parse\",value:Fe},{key:\"set\",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),o}(),le=function(){q(o,oe);var a=z(o);function o(){var e;K(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(j(e=a.call.apply(a,[this].concat(n))),\"priority\",20),$(j(e),\"incompatibleTokens\",\"*\"),e}return Z(o,[{key:\"parse\",value:Fe},{key:\"set\",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),o}(),Nt={G:new ie,y:new je,Y:new ze,R:new Qe,u:new Je,Q:new Ze,q:new $e,M:new et,L:new tt,w:new at,I:new st,d:new dt,D:new ft,E:new mt,e:new vt,c:new ht,i:new yt,a:new bt,b:new Et,B:new gt,h:new wt,H:new Ct,K:new St,k:new Tt,m:new At,s:new Pt,S:new xt,X:new kt,x:new _t,t:new C,T:new le},Dt=/[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g,Rt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,It=/^'([^]*?)'?$/,Mt=/''/g,Ut=/\\S/,Ot=/[a-zA-Z]/;function Lt(o,e,t,i){var n,r,a,l,s;k(3,arguments);var u=String(o),c=String(e),d=Ve,f=null!==(e=null!==(e=null==i?void 0:i.locale)&&void 0!==e?e:d.locale)&&void 0!==e?e:U;if(!f.match)throw new RangeError(\"locale must contain match property\");var p=O(null!==(a=null!==(r=null!==(r=null!==(e=null==i?void 0:i.firstWeekContainsDate)&&void 0!==e?e:null==i||null===(n=i.locale)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==r?r:null===(a=d.locale)||void 0===a||null===(p=a.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==a?a:1);if(!(1<=p&&p<=7))throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");var m=O(null!==(m=null!==(s=null!==(s=null!==(a=null==i?void 0:i.weekStartsOn)&&void 0!==a?a:null==i||null===(l=i.locale)||void 0===l||null===(s=l.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==s?s:d.weekStartsOn)&&void 0!==s?s:null===(d=d.locale)||void 0===d||null===(m=d.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==m?m:0);if(!(0<=m&&m<=6))throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");if(\"\"===c)return\"\"===u?_(t):new Date(NaN);var v,h={firstWeekContainsDate:p,weekStartsOn:m,locale:f},y=[new ae],p=c.match(Rt).map(function(e){var t=e[0];return t in G?(0,G[t])(e,f.formatLong):e}).join(\"\").match(Dt),b=[],E=R(p);try{var g=function(){var e=v.value;null!=i&&i.useAdditionalWeekYearTokens||(n=e,-1===Y.indexOf(n))||W(e,c,o),null!=i&&i.useAdditionalDayOfYearTokens||(a=e,-1===H.indexOf(a))||W(e,c,o);var t=e[0],n=Nt[t];if(n){var r=n.incompatibleTokens;if(Array.isArray(r)){var a=b.find(function(e){return r.includes(e.token)||e.token===t});if(a)throw new RangeError(\"The format string mustn't contain `\".concat(a.fullToken,\"` and `\").concat(e,\"` at the same time\"))}else if(\"*\"===n.incompatibleTokens&&0<b.length)throw new RangeError(\"The format string mustn't contain `\".concat(e,\"` and any other token at the same time\"));b.push({token:t,fullToken:e});n=n.run(u,e,f.match,h);if(!n)return{v:new Date(NaN)};y.push(n.setter),u=n.rest}else{if(t.match(Ot))throw new RangeError(\"Format string contains an unescaped latin alphabet character `\"+t+\"`\");if(\"''\"===e?e=\"'\":\"'\"===t&&(e=e.match(It)[1].replace(Mt,\"'\")),0!==u.indexOf(e))return{v:new Date(NaN)};u=u.slice(e.length)}};for(E.s();!(v=E.n()).done;){var w=g();if(\"object\"===x(w))return w.v}}catch(e){E.e(e)}finally{E.f()}if(0<u.length&&Ut.test(u))return new Date(NaN);m=y.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(t){return y.filter(function(e){return e.priority===t}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),p=_(t);if(isNaN(p.getTime()))return new Date(NaN);var C=L(p,(t=p,(p=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))).setUTCFullYear(t.getFullYear()),t.getTime()-p.getTime())),S={},T=R(m);try{for(T.s();!(A=T.n()).done;){var A=A.value;if(!A.validate(C,h))return new Date(NaN);A=A.set(C,S,h);Array.isArray(A)?(C=A[0],function(e,t){if(null==e)throw new TypeError(\"assign requires that input parameter not be null or undefined\");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}(S,A[1])):C=A}}catch(e){T.e(e)}finally{T.f()}return C}function Ft(e,t){return\"\"+(new P.Intl).getDateTimeFormatter().getCustomDateTime(new Date(e,t-1),{year:\"2-digit\",month:\"2-digit\"})}function Bt(){return Yt.urlService.getAbsoluteUrl(\"/my/account#!/billing\")}function Gt(e){var t=Vt[e.trim().toLowerCase()];return t||e.toLowerCase()}var Ht,Yt=CoreUtilities,Wt=\"isAndroidApp\",jt=\"isDesktop\",Vt={visa:\"visa\",mastercard:\"masterCard\",amex:\"americanExpress\",americanexpress:\"americanExpress\",discover:\"discover\",debitcard:\"debitCard\",redeemcard:\"redeemCard\",robloxcredit:\"robloxCredit\",xsollakoreadebitcard:\"xsollaKoreaDebitCard\",paypal:\"paypal\",appleappstore:\"appleAppStore\",googleplaystore:\"googlePlayStore\",xsollaamazonpay:\"xsollaAmazonPay\",xboxstore:\"xboxStore\",xsolla:\"xsolla\",xsollaoxxo:\"xsollaOxxo\",xsollaboleto:\"xsollaBoleto\",xsollapix:\"xsollaPix\",xsollaother:\"xsollaOther\",cartes_bancaires:\"debitCard\",diners:\"debitCard\",jcb:\"debitCard\",unionpay:\"debitCard\"};(Ht=Ht||{}).RemovePaymentProfileNotAllowedFailure=\"RemovePaymentProfileNotAllowedFailure\";var qt,Xt,zt,Kt,Qt={ADD_CARD_CLICKED:\"AddCardClicked\",CANCEL_ADD_CLICKED:\"CancelAddCardInModalClicked\",SUBMIT_ADD_CLICKED:\"AddCardSubmitInModalClicked\",DELETE_CARD_CLICKED:\"DeleteSavedPaymentMethodButtonClicked\",IN_MODAL_ABORT_CARD_DELETION:\"CancelCardDeletionInModalButtonClicked\",IN_MODAL_ABORT_CARD_UPDATE:\"CancelCardUpdateInModalButtonClicked\",UPDATE_CARD_CLICKED:\"UpdateCardClicked\",IN_MODAL_CARD_DELETION:\"DeleteCardInModalButtonClicked\",IN_MODAL_CARD_UPDATE:\"UpdateCardInModalButtonClicked\",STRIPE_EMAIL_EXISTS:\"StripeCustomerEmailAlreadyExists\",STRIPE_EMAIL_DOES_NOT_EXIST:\"StripeCustomerEmailDoesNotExist\"},Jt={CONVERT_CREDIT_CLICKED:\"ConvertCreditToRobuxButtonClicked\",IN_MODAL_CONVERT_CLICKED:\"ConvertCreditToRobuxInModalButtonClicked\",IN_MODAL_CONVERT_CREDIT_CANCEL:\"ConvertCreditToRobuxCancelInModalButtonClicked\"},Zt={NO_EXISTING_SUBSCRIPTION:\"UserHasNoSubscription\",SUBSCRIBE_CLICKED:\"SubscribeButtonClicked\",CANCEL_CLICKED:\"CancelSubscriptionButtonClicked\",SUBSCRIPTION_ATTACHED_TO_CARD:\"CannotDeleteCardWithSubscriptionError\"},$t={GET_PAYMENT_PROFILE_SETUP_CALLED:\"GetPaymentProfileSetupCalled\",GET_PAYMENT_PROFILE_SETUP_SUCCEEDED:\"GetPaymentProfileSetupSucceeded\",GET_PAYMENT_PROFILE_SETUP_FAILED:\"GetPaymentProfileSetupFailed\",GET_USER_BIRTHDATE_CALLED:\"GetUserBirthdateCalled\",GET_USER_BIRTHDATE_SUCCEEDED:\"GetUserBirthdateSucceeded\",GET_USER_BIRTHDATE_FAILED:\"GetUserBirthdateFailed\",GET_SAVED_PAYMENT_PROFILES_CALLED:\"GetSavedPaymentProfilesCalled\",GET_SAVED_PAYMENT_PROFILES_SUCCEEDED:\"GetSavedPaymentProfilesSucceeded\",GET_SAVED_PAYMENT_PROFILES_FAILED:\"GetSavedPaymentProfilesFailed\",GET_SAVED_PAYMENT_PROFILES_RETURNS_NONE:\"GetSavedPaymentProfilesReturnsNone\",DELETE_SAVED_PAYMENT_PROFILE_CALLED:\"DeleteSavedPaymentProfileCalled\",DELETE_SAVED_PAYMENT_PROFILE_SUCCEEDED:\"DeleteSavedPaymentProfileSucceeded\",DELETE_SAVED_PAYMENT_PROFILE_FAILED:\"DeleteSavedPaymentProfileFailed\",GET_USER_PREMIUM_SUBSCRIPTION_CALLED:\"GetUserPremiumSubscriptionCalled\",GET_USER_PREMIUM_SUBSCRIPTION_SUCCEEDED:\"GetUserPremiumSubscriptionSucceeded\",GET_USER_PREMIUM_SUBSCRIPTION_FAILED:\"GetUserPremiumSubscriptionFailed\",GET_EXP_VARIANT_CALLED:\"GetExperimentVariantCalled\",GET_EXP_VARIANT_SUCCEEDED:\"GetExperimentVariantSucceeded\",GET_EXP_VARIANT_FAILED:\"GetExperimentVariantFailed\",CONVERT_CREDIT_TO_ROBUX_CALLED:\"ConvertCreditToRobuxCalled\",CONVERT_CREDIT_TO_ROBUX_SUCCEEDED:\"ConvertCreditToRobuxSucceeded\",CONVERT_CREDIT_TO_ROBUX_FAILED:\"ConvertCreditToRobuxFailed\",GET_CREDIT_CONVERSION_METADATA_CALLED:\"GetCreditConversionMetadataCalled\",GET_CREDIT_CONVERSION_METADATA_SUCCEEDED:\"GetCreditConversionMetadataSucceeded\",GET_CREDIT_CONVERSION_METADATA_FAILED:\"GetCreditConversionMetadataFailed\",GET_CREDIT_CONVERSION_METADATA_CURRENCY_CODE_NULL:\"GetCreditConversionMetadataCurrencyCodeNull\",VERIFY_PAYMENT_PROFILE_CALLED:\"VerifyPaymentProfileCreationCalled\",VERIFY_PAYMENT_PROFILE_SUCCEEDED:\"VerifyPaymentProfileCreationSucceeded\",VERIFY_PAYMENT_PROFILE_FAILED:\"VerifyPaymentProfileCreationFailed\",UPDATE_SAVED_PAYMENT_PROFILE_CALLED:\"UpdateSavedPaymentProfileCalled\",UPDATE_SAVED_PAYMENT_PROFILE_SUCCEEDED:\"UpdateSavedPaymentProfileSucceeded\",UPDATE_SAVED_PAYMENT_PROFILE_FAILED:\"UpdateSavedPaymentProfileFailed\"},en={LOAD_STRIPE_CALLED:\"LoadStripeCalled\",LOAD_STRIPE_SUCCEEDED:\"LoadStripeSucceeded\",LOAD_STRIPE_FAILED:\"LoadStripeFailed\",CONFIRM_SETUP_INTENT_CALLED:\"StripeConfirmSetupIntentCalled\",CONFIRM_SETUP_INTENT_SUCCEEDED:\"StripeConfirmSetupIntentSucceeded\",CONFIRM_SETUP_INTENT_FAILED:\"StripeConfirmSetupIntentFailed\"},tn=\"incorrect_cvc\",nn=\"card_declined\",rn=\"expired_card\",an=\"CanChangeSetting\",on=function(){return(on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ln=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},sn=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function un(n){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/payment-profile/prepare\"},[2,Yt.httpService.post(t,{paymentProvider:n})]})})}function cn(a,o){return ln(void 0,void 0,Promise,function(){var r;return sn(this,function(e){var t,n;return t=a,n=o,r={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/payment-profile/by-provider-id/\"+t+\"/\"+n},[2,Yt.httpService.get(r,{paymentProvider:a,providerPaymentProfileId:o})]})})}function dn(){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.usersApi+\"/v1/birthdate\"},[2,Yt.httpService.get(t)]})})}function fn(){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/stripe/enabled-for-user\"},[2,Yt.httpService.get(t)]})})}function pn(){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/payment-profiles\"},[2,Yt.httpService.get(t)]})})}function mn(e){return{withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/payment-profile/\"+e}}function vn(n){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.userSettingsApi+\"/v1/user-settings\"},[2,Yt.httpService.post(t,{enablePurchases:n})]})})}function hn(e){return e=e,e={retryable:!1,withCredentials:!0,url:P.EnvironmentUrls.premiumFeaturesApi+\"/v1/users/\"+e+\"/subscriptions\"},Yt.httpService.get(e)}function yn(){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/credit-balance/v1/get-conversion-metadata\"},[2,Yt.httpService.get(t)]})})}function bn(){return ln(void 0,void 0,Promise,function(){var t,n,r,a,o,i,l;return sn(this,function(e){switch(e.label){case 0:n=t=!1,a=r=0,i=!(o=\"USD\"),e.label=1;case 1:return e.trys.push([1,3,,4]),(0,we.fireEvent)($t.GET_CREDIT_CONVERSION_METADATA_CALLED),[4,yn()];case 2:return l=e.sent(),0<=(l=l.data).creditBalance&&null!==l.currencyCode?(a=l.creditBalance,o=l.currencyCode,i=l.isConvertAllFlowEnabled):(t=!0,(0,we.fireEvent)($t.GET_CREDIT_CONVERSION_METADATA_CURRENCY_CODE_NULL)),0<l.robuxConversionAmount&&(r=l.robuxConversionAmount),n=l.isConvertAllFlowEnabled||0<l.robuxConversionAmount,(0,we.fireEvent)($t.GET_CREDIT_CONVERSION_METADATA_SUCCEEDED),[2,[t,n,r,a,o,i]];case 3:throw e.sent(),(0,we.fireEvent)($t.GET_CREDIT_CONVERSION_METADATA_FAILED),new Error(\"Failed to get Robux conversion metadata.\");case 4:return[2]}})})}function En(){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:P.EnvironmentUrls.billingApi+\"/v1/parental-controls/get-settings\"},[4,Yt.httpService.get(t)];case 1:return[2,e.sent().data]}})})}function gn(){return ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/parental-controls-api/v1/parental-controls/get-linked-parents\"},[4,Yt.httpService.get(t)];case 1:return[2,e.sent().data]}})})}function wn(){return ln(void 0,void 0,Promise,function(){var t,n;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/user-settings-address\"},n={},[2,Yt.httpService.get(t,n)]})})}function Cn(){return ln(void 0,void 0,Promise,function(){var t,n;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/user-settings-address\"},n={},[2,Yt.httpService.patch(t,n)]})})}(qt=qt||{}).Stripe=\"Stripe\",(kt=Xt=Xt||{}).GlobalTeen=\"globalTeen\",kt.U13=\"u13\",kt.O18=\"o18\",(zt=zt||{}).Pending=\"Pending\",(Kt=Kt||{}).UpdateUserSetting=\"UpdateUserSetting\";var Sn=function(r,a,o){return void 0===a&&(a=void 0),void 0===o&&(o=[]),ln(void 0,void 0,void 0,function(){var t,n;return sn(this,function(e){switch(e.label){case 0:n={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/parental-controls-api/v1/parental-controls/consents\"},e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Yt.httpService.get(n,{childUserId:r,consentStatus:zt.Pending,consentType:Kt.UpdateUserSetting,cursor:a})];case 2:return t=e.sent(),n=t.data,t=n.consents,n=n.nextCursor,o.push.apply(o,t||[]),n?[4,Sn(r,n,o)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2,o];case 5:throw e.sent(),new Error(\"Failed to fetch pending consent requests\");case 6:return[2]}})})},Tn=\"Heading.SavedCreditCard.Payments\",An=\"Heading.Tab.Spending\",Pn=\"Heading.SavedGiftCardInformation\",xn=\"Heading.SavedCreditCard.SavedPaymentMethod\",kn=\"Heading.SavedCreditCard.OtherPaymentMethods\",_n=\"Heading.SavedCreditCard.RobloxCredit\",Nn=\"Heading.SavedCreditCard.ConvertToRobux\",Dn=\"Heading.SavedCreditCard.CreditOrDebitCard\",Rn=\"Heading.SavedCreditCard.BillingAddress\",In=\"Heading.SavedCreditCard.AddPaymentMethod\",Mn=\"Heading.SavedCreditCard.DeletePaymentMethod\",Un=\"Heading.SavedBillingAddress.DeleteBillingAddress\",On=\"Heading.SavedBillingAddress.UpdateBillingAddress\",Ln=\"Heading.SavedCreditCard.BillingEmail\",Fn=\"Heading.SavedCreditCard.CannotDeletePaymentMethod\",Bn=\"Label.DevSubs\",Gn=\"Heading.SavedCreditCard.UpdatePaymentMethod\",Hn=\"Heading.AskMoreRobux\",Yn=\"Header.CancelRequest\",Wn=\"Heading.AllowPurchases\",jn=\"Heading.SpendNotifications\",Vn=\"Label.SavedCreditCard.Exp\",qn=\"Label.SavedCreditCard.Email\",Xn=\"Label.SavedCreditCard.Balance\",zn=\"Label.SavedCreditCard.RenewsOn\",Kn=\"Label.SavedCreditCard.ExpiresOn\",Qn=\"Label.Paypal\",Jn=\"Label.InvalidEmailFormat\",Zn=\"Error.InvalidExpirationDate\",$n=\"Label.Expired\",er=\"Heading.MonthlySpendingLimit\",tr=\"Label.NoLimit\",nr=\"Label.Pending\",rr=\"Label.Parent\",ar=\"Action.Add\",or=\"Action.Cancel\",ir=\"Action.Subscribe\",lr=\"Action.Save\",sr=\"Action.Delete\",ur=\"Action.AskMoreRobux\",cr=\"Action.Dialog.Yes\",dr=\"Action.Dialog.No\",fr=\"Description.SavedCreditCard.NoSavedPaymentMethods\",pr=\"Description.SavedCreditCard.NoPremium\",mr=\"Description.SavedCreditCard.SavePaymentMethodSomethingWentWrong\",vr=\"Description.SavedCreditCard.AreYouSureDeletePaymentMethod\",hr=\"Description.SavedBillingAddress.AreYouSureDeleteBillingAddress\",yr=\"Description.SavedCreditCard.StripeAddPaymentMethodDisclosure\",br=\"Description.SavedCreditCard.CannotDeletePaymentMethod\",Er=\"Description.SavedCreditCard.DeletePaymentMethodSuccess\",gr=\"Description.SavedBillingAddress.DeleteBillingAddressSuccess\",wr=\"Description.SavedCreditCard.IncorrectCVCErrorMessage\",Cr=\"Description.SavedCreditCard.CardDeclinedErrorMessage\",Sr=\"Description.SavedCreditCard.CardExpiredErrorMessage\",Tr=\"Description.SavedCreditCard.EmailCannotBeChanged\",Ar=\"Description.SavedCreditCard.ProvideEmail\",Pr=\"Description.PaymentExpirationUpdateSuccess\",xr=\"Description.SavedBillingAddress.UpdatedBillingAddressSuccess\",kr=\"Description.AskMoreRobux\",_r=\"Description.CancelSettingUpdateRequest\",Nr=\"Description.AllowPurchaseDisclaimer\",Dr=\"Description.ChildSide.SpendingRestrictions\",Rr=\"Description.MonthlySpendLimitDisclaimer\",Ir=\"Description.SpendingPaymentMethods\",Mr=\"Description.SpendNotifications.HighSpend\",Ur=\"Description.SpendNotifications.AllTransactions\",Or=\"Response.SavedCreditCard.GenericSomethingWentWrong\",Lr=\"Response.SavedCreditCard.SavePaymentMethodSuccess\",Fr=\"Description.SuccessDialogMessage\",Br=function(){var e=(0,te.createModal)(),s=e[0],u=e[1];return[function(e){var t=e.header,n=e.cancelText,r=e.translate,a=e.onDelete,o=e.onNeutral,i=(0,Ee.useState)(!1),e=i[0],l=i[1];return ge().createElement(s,{id:\"add-card-modal\",title:t,body:n,loading:e,neutralButtonText:r(or),actionButtonText:r(sr),onNeutral:function(){null==o||o(),u.close()},onAction:function(){l(!0),a(),l(!1),u.close()},closeable:!0,size:\"md\",actionButtonShow:!0})},u]},Gr=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Hr=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Yr=function(){var e=Br(),s=e[0];return[function(e){var t=this,r=e.translate,a=e.systemFeedbackService,o=e.cannotDeletePaymentMethodModalService,i=e.onDeleteSuccess,l=e.paymentProfileId,n=r(Mn),e=r(vr);return ge().createElement(s,{translate:r,header:n,cancelText:e,onDelete:function(){return Gr(t,void 0,void 0,function(){var t;return Hr(this,function(e){switch(e.label){case 0:(0,we.fireEvent)(Qt.IN_MODAL_CARD_DELETION),e.label=1;case 1:return e.trys.push([1,3,,4]),(0,we.fireEvent)($t.DELETE_SAVED_PAYMENT_PROFILE_CALLED),[4,(n=l,ln(void 0,void 0,void 0,function(){var t;return sn(this,function(e){return t=mn(n),[2,Yt.httpService.delete(t)]})}))];case 2:return 200===e.sent().status&&((0,we.fireEvent)($t.DELETE_SAVED_PAYMENT_PROFILE_SUCCEEDED),a.success(r(Er)),i()),[3,4];case 3:return t=e.sent(),412===(null==(t=t)?void 0:t.status)&&(null==t?void 0:t.data)===Ht.RemovePaymentProfileNotAllowedFailure?((0,we.fireEvent)(Zt.SUBSCRIPTION_ATTACHED_TO_CARD),o.open()):((0,we.fireEvent)($t.DELETE_SAVED_PAYMENT_PROFILE_FAILED),a.warning(r(Or))),[3,4];case 4:return[2]}var n})})},onNeutral:function(){(0,we.fireEvent)(Qt.IN_MODAL_ABORT_CARD_DELETION)}})},e[1]]};function Wr(e){var t=e.translate,n=e.systemFeedbackService,r=e.updatePaymentProfiles,a=e.paymentProfileId,o=e.cardType,i=e.lastFour,l=e.expMonth,s=e.expYear,u=(w=(0,Ee.useState)(!1))[0],c=w[1],d=(m=Yr())[0],f=m[1],p=(g=Xr())[0],e=g[1],m=(w=(0,Ee.useState)(!1))[0],v=w[1],h=(g=(0,Ee.useState)(l))[0],y=g[1],b=(w=(0,Ee.useState)(s))[0],E=w[1],l=\"****\"+i,g=t(Vn)+\" \"+Ft(b,h);(0,Ee.useEffect)(function(){v(new Date(b,h-1)<new Date)},[h,b]);var w=(s=Qr())[0],C=s[1];return u?null:ge().createElement(\"div\",{className:\"cardContainer\"},ge().createElement(d,{translate:t,systemFeedbackService:n,cannotDeletePaymentMethodModalService:e,paymentProfileId:a,onDeleteSuccess:function(){r(),c(!0)}}),ge().createElement(p,{translate:t}),ge().createElement(w,{translate:t,onUpdateSuccess:function(e,t){y(e),E(t)},systemFeedbackService:n,paymentProfileId:a,cardType:o,lastFour:i,expMonth:h,expYear:b}),ge().createElement(\"span\",{className:\"payment-method-image cardIcon \"+Gt(o)}),ge().createElement(\"div\",{className:\"cardNumber font-bold\"},l),ge().createElement(\"div\",{className:\"cardExpiry\"},g),ge().createElement(\"button\",{type:\"button\",className:\"btn-generic-edit-sm\",onClick:function(){C.open(),(0,we.fireEvent)(Qt.UPDATE_CARD_CLICKED)}},ge().createElement(\"span\",{className:\"icon-edit\"})),ge().createElement(\"button\",{type:\"button\",className:\"btn-generic-trash-bin-sm\",onClick:function(){f.open(),(0,we.fireEvent)(Qt.DELETE_CARD_CLICKED)}},ge().createElement(\"span\",{className:\"icon-trash-bin\"})),m&&ge().createElement(Ee.Fragment,null,ge().createElement(\"span\",{className:\"icon-remove\"}),ge().createElement(\"div\",{className:\"card-expired\"},t($n))))}function jr(e){var t=e.translate,n=e.systemFeedbackService,r=e.updatePaymentProfiles,a=e.paymentProfileId,o=e.email,i=(c=(0,Ee.useState)(!1))[0],l=c[1],e=(u=Yr())[0],s=u[1],u=(c=Xr())[0],c=c[1];return i?null:(i=t(qn)||\"Email\",i=o?i+\": \"+o:\"\",ge().createElement(\"div\",{className:\"cardContainer\"},ge().createElement(e,{translate:t,systemFeedbackService:n,cannotDeletePaymentMethodModalService:c,paymentProfileId:a,onDeleteSuccess:function(){r(),l(!0)}}),ge().createElement(u,{translate:t}),ge().createElement(\"span\",{className:\"payment-method-image cardIcon paypal\"}),ge().createElement(\"div\",{className:\"cardNumber font-bold\"},t(Qn)),o&&ge().createElement(\"div\",{className:\"paypalEmail\"},i),ge().createElement(\"button\",{type:\"button\",className:\"btn-generic-edit-sm\",style:{visibility:\"hidden\"}},ge().createElement(\"span\",{className:\"icon-edit\"})),ge().createElement(\"button\",{type:\"button\",className:\"btn-generic-trash-bin-sm\",onClick:function(){s.open(),(0,we.fireEvent)(Qt.DELETE_CARD_CLICKED)}},ge().createElement(\"span\",{className:\"icon-trash-bin\"}))))}function Vr(e){var t=e.translate,n=\"\";switch(e.errorCode){case tn:n=t(wr)||\"Incorrect CVC. Please check your information and try again.\";break;case rn:n=t(Sr)||\"Card expired. Please review the card details or try a different card.\";break;default:return null}return ge().createElement(\"div\",{className:\"alert-warning small-oneline form-error-banner\"},n)}function qr(e){var t,n,r=e.translate,a=e.elements,o=e.onFormChange,i=e.updateInputEmail,l=e.stripeEmail,s=e.robloxEmail,u=e.stripeErrorCode,c=(A=(0,Ee.useState)(!1))[0],d=A[1],f=(C=(0,Ee.useState)(!1))[0],p=C[1],m=(S=(0,Ee.useState)(\"\"!==l||\"\"!==s))[0],v=S[1],h=(T=(0,Ee.useState)(\"\"!==l?l:s))[0],y=T[1],b=(e=(0,Ee.useState)(!1))[0],E=e[1],g=(A=(0,Ee.useState)(!1))[0],w=A[1],C={__html:r(yr,{stripeTermsOfUseLinkStart:'<a href=\"https://stripe.com/legal/end-users\" class=\"text-link\" target=\"_blank\">',stripeTermsOfUseLinkEnd:\"</a>\",stripePrivacyPolicyLinkStart:'<a href=\\'https://stripe.com/privacy\\' class=\"text-link\" target=\"_blank\">',stripePrivacyPolicyLinkEnd:\"</a>\"})},S=r(Ar),T=r(Jn),e=r(Tr);(0,Ee.useEffect)(function(){t||(null!=(t=null==a?void 0:a.getElement(\"payment\"))&&t.on(\"ready\",function(){null!=t&&t.clear()}),null!=t&&t.on(\"change\",function(e){d(e.complete)})),n||(null!=(n=null==a?void 0:a.getElement(\"address\"))&&n.on(\"ready\",function(){null!=n&&n.clear()}),null!=n&&n.on(\"change\",function(e){p(e.complete)}))},[]),(0,Ee.useEffect)(function(){o(!c||!f||b||\"\"===h)},[c,f,h,b]);var A=function(e){var t=e.target.value.trim().replace(/\\s/g,\"\"),e=new RegExp(/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/);E(g&&\"\"!==t&&null===e.exec(t)),y(t),i(t)},e=ge().createElement(\"div\",null,ge().createElement(\"div\",{className:\"form-group form-has-feedback \"+(b?\"form-has-error\":\"\")},ge().createElement(\"input\",{className:\"form-control input-field billing-email-input\",type:\"email\",name:\"email\",value:h,onChange:A,disabled:!0}),ge().createElement(\"span\",{className:\"icon-status-unavailable\"})),ge().createElement(\"div\",{className:\"form-group form-has-feedback\"},ge().createElement(\"div\",{className:\"form-control-label small text email-label\"},e))),T=ge().createElement(\"div\",null,ge().createElement(\"div\",{className:\"form-group form-has-feedback \"+(b?\"form-has-error\":\"\")},ge().createElement(\"input\",{className:\"form-control input-field billing-email-input unset-cursor\",type:\"email\",name:\"email\",value:h,onChange:A,disabled:m}),g?ge().createElement(\"button\",{type:\"button\",className:\"icon-button-override\",onClick:function(){i(s),y(s),w(!1),v(!0)}},ge().createElement(\"span\",{className:\"icon-regenerate\"})):ge().createElement(\"button\",{type:\"button\",className:\"icon-button-override\",onClick:function(){i(\"\"),y(\"\"),w(!0),v(!1)}},ge().createElement(\"span\",{className:\"icon-edit\"})),b?ge().createElement(\"p\",{className:\"form-control-label\"},T):null),ge().createElement(\"div\",{className:\"form-group form-has-feedback\"},ge().createElement(\"div\",{className:\"form-control-label small text email-label\"},S))),S=ge().createElement(\"div\",null,ge().createElement(\"div\",{className:\"form-group form-has-feedback \"+(b?\"form-has-error\":\"\")},ge().createElement(\"input\",{className:\"form-control input-field billing-email-input\",type:\"email\",name:\"email\",value:h,onChange:A,disabled:m})),ge().createElement(\"div\",{className:\"form-group form-has-feedback\"},ge().createElement(\"div\",{className:\"form-control-label small text email-label\"},S)));return a?ge().createElement(\"div\",{className:\"add-card-modal\"},ge().createElement(\"h2\",{className:\"stripe-form-header\"},r(Dn)),ge().createElement(D.PaymentElement,null),ge().createElement(\"h2\",{className:\"stripe-form-header billing-email-header\"},r(Ln)),\"\"!==l?e:\"\"!==s?T:S,ge().createElement(\"h2\",{className:\"stripe-form-header\"},r(Rn)),ge().createElement(D.AddressElement,{options:{mode:\"billing\"}}),ge().createElement(\"div\",{className:\"form-control-label small text stripe-form-disclosure\",dangerouslySetInnerHTML:C}),u?ge().createElement(Vr,{translate:r,errorCode:u}):null):ge().createElement(\"div\",{className:\"add-card-modal\"},ge().createElement(\"h2\",{className:\"stripe-form-header\"},r(Dn)),ge().createElement(\"span\",{className:\"spinner spinner-default\"}),ge().createElement(\"h2\",{className:\"stripe-form-header\"},r(Rn)),ge().createElement(\"span\",{className:\"spinner spinner-default\"}))}var Xr=function(){var e=(0,te.createModal)(),r=e[0],a=e[1];return[function(e){var t=e.translate,n=t(Fn),e=ge().createElement(\"div\",{className:\"cannot-delete-payment-method-text\"},t(br));return ge().createElement(r,{id:\"cannot-delete-card-modal\",title:n,body:e,neutralButtonText:t(\"Action.GotIt\")||\"Got it\",onNeutral:function(){a.close()},closeable:!0,size:\"md\"})},a]},zr=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Kr=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Qr=function(){var e=(0,Ee.useState)(!1),E=e[0],t=e[1],g=(0,Ee.useMemo)(function(){return{open:function(){return t(!0)},close:function(){return t(!1)}}},[]);return[function(e){var i=e.translate,l=e.onUpdateSuccess,s=e.systemFeedbackService,u=e.paymentProfileId,t=e.cardType,n=e.lastFour,r=e.expMonth,a=e.expYear,o=(0,Ee.useState)(!1),c=o[0],d=o[1],f=(0,Ee.useState)(!1),p=f[0],m=f[1],v=(0,Ee.useState)(Ft(a,r)),h=v[0],y=v[1],e=(0,Ee.useState)(!1),o=e[0],b=e[1],f=i(Gn),v=\"****\"+n,e={__html:i(\"Description.SavedCreditCard.StripeUpdatePaymentMethodDisclosure\",{RobloxTermsLinkStart:'<a href=\"https://en.help.roblox.com/hc/en-us/articles/115004647846-Roblox-Terms-of-Use\" class=\"text-link\" target=\"_blank\">',RobloxTermsLinkEnd:\"</a>\",RobloxPrivacyPolicyLinkStart:'<a href=\\'https://en.help.roblox.com/hc/en-us/articles/115004630823-Roblox-Privacy-and-Cookie-Policy\\' class=\"text-link\" target=\"_blank\">',RobloxPrivacyPolicyLinkEnd:\"</a>\",StripeTermsOfUseLinkStart:'<a href=\"https://stripe.com/legal/end-users\" class=\"text-link\" target=\"_blank\">',StripeTermsOfUseLinkEnd:\"</a>\",StripePrivacyPolicyLinkStart:'<a href=\\'https://stripe.com/privacy\\' class=\"text-link\" target=\"_blank\">',StripePrivacyPolicyLinkEnd:\"</a>\"})};(0,Ee.useEffect)(function(){E||y(Ft(a,r)),b(!1),m(!1)},[r,a]),(0,Ee.useEffect)(function(){var e=new Date(a,r-1),t=function(e){e=Lt(e,\"MM/yy\",new Date);return\"Invalid Date\"===e.toString()?new Date:e}(h),n=new Date((new Date).getFullYear(),(new Date).getMonth());m(t!==e&&n<=t),b(t<n||t<e)},[r,a,h]);n=(0,Ee.useCallback)(function(){return zr(void 0,void 0,void 0,function(){var t,o;return Kr(this,function(e){switch(e.label){case 0:d(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),o=function(e){e=Lt(e,\"MM/yy\",new Date);return\"Invalid Date\"===e.toString()?[0,0]:[e.getMonth()+1,e.getFullYear()]}(h),t=o[0],o=o[1],(0,we.fireEvent)($t.UPDATE_SAVED_PAYMENT_PROFILE_CALLED),[4,(n=u,r=t,a=o,ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t=mn(n),[2,Yt.httpService.post(t,{expirationMonth:r,expirationYear:a})]})}))];case 2:return 200===e.sent().status&&((0,we.fireEvent)($t.UPDATE_SAVED_PAYMENT_PROFILE_SUCCEEDED),s.success(i(Pr)),l(t,o)),[3,4];case 3:return e.sent(),(0,we.fireEvent)($t.UPDATE_SAVED_PAYMENT_PROFILE_FAILED),s.warning(i(Or)),[3,4];case 4:return d(!1),g.close(),[2]}var n,r,a})})},[h,l,u,s,i]);return ge().createElement(te.Modal,{show:E,onHide:g.close,size:\"md\",id:\"update-payment-method-modal\"},ge().createElement(te.Modal.Header,{title:f,onClose:g.close}),ge().createElement(te.Modal.Body,null,ge().createElement(\"div\",{className:\"modal-description font-header-2 text-emphasis\"},i(Dn)),ge().createElement(\"div\",{className:\"fr payment-method-display\"},ge().createElement(\"span\",{className:\"payment-method-image cardIcon \"+Gt(t)}),ge().createElement(\"div\",{className:\"cardNumber text-emphasis font-header-2\"},v)),ge().createElement(\"div\",{className:\"font-caption-header text-emphasis\"},i(\"Label.Expiration\")),ge().createElement(\"input\",{type:\"string\",name:\"expiration\",placeholder:\"MM/YY\",className:\"expiry-input \"+(o?\"error-input\":\"\"),value:h,inputMode:\"numeric\",onChange:function(e){e=e.target.value;0!==h.indexOf(e)&&(2<=h.length&&e.startsWith(\"1/\")&&(e=\"0\"+e),4<(e=e.replace(/\\D/g,\"\")).length&&(e=e.slice(0,4)),1===e.length&&\"0\"!==e&&\"1\"!==e?e=\"0\"+e+\"/\":2===e.length&&12<Number(e)?e=\"0\"+e.slice(0,1)+\"/\"+e.slice(1):2<=e.length&&e.length<=4&&(e=e.slice(0,2)+\"/\"+e.slice(2))),y(e)}}),o&&ge().createElement(\"div\",{className:\"font-caption-body input-error-text\"},i(Zn))),ge().createElement(\"div\",{className:\"footer-divider\"}),ge().createElement(te.Modal.Footer,null,ge().createElement(\"div\",{className:\"font-caption-body disclosure-text\",dangerouslySetInnerHTML:e}),ge().createElement(\"div\",{className:\"modal-buttons\"},ge().createElement(te.Button,{variant:te.Button.variants.secondary,width:te.Button.widths.full,size:te.Button.sizes.large,className:\"action-button\",onClick:g.close},i(\"Action.Cancel\")),ge().createElement(te.Button,{width:te.Button.widths.full,size:te.Button.sizes.large,className:\"action-button\",isLoading:c,isDisabled:!p,onClick:n},i(\"Action.Save\")))))},g]},Jr=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Zr=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function $r(){var e=(0,te.createModal)(),g=e[0],w=e[1];return[function(e){function o(){return Jr(a,void 0,void 0,function(){return Zr(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),(0,we.fireEvent)($t.VERIFY_PAYMENT_PROFILE_CALLED),[4,cn(qt.Stripe,y)];case 1:return e.sent()?((0,we.fireEvent)($t.VERIFY_PAYMENT_PROFILE_SUCCEEDED),[2,!0]):[3,3];case 2:return e.sent(),(0,we.fireEvent)($t.VERIFY_PAYMENT_PROFILE_FAILED),[3,3];case 3:return[2,!1]}})})}var a=this,i=e.translate,l=e.systemFeedbackService,s=e.onSuccess,u=e.stripeEmail,c=e.robloxEmail,d=(0,D.useStripe)(),f=(0,D.useElements)(),t=(v=(0,Ee.useState)(!1))[0],p=v[1],e=(b=(0,Ee.useState)(!1))[0],n=b[1],m=(v=(0,Ee.useState)(\"\"!==u?u:c))[0],r=v[1],v=(b=(0,Ee.useState)(null))[0],h=b[1],y=\"\",b=i(In),E=function(t,n,r){return Jr(a,void 0,void 0,function(){return Zr(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return e.sent()?(l.success(i(Lr)),s(),p(!1),w.close(),[2]):0===r?((0,we.fireEvent)(en.CONFIRM_SETUP_INTENT_FAILED),l.warning(i(mr)),p(!1),w.close(),[2]):(setTimeout(function(){E(t,n,r-1)},n),[3,3]);case 2:return e.sent(),(0,we.fireEvent)($t.VERIFY_PAYMENT_PROFILE_FAILED),[3,3];case 3:return[2]}})})};return ge().createElement(g,{id:\"add-card-modal\",title:b,body:ge().createElement(qr,{translate:i,elements:f,onFormChange:function(e){n(e)},updateInputEmail:function(e){r(e)},stripeEmail:u,robloxEmail:c,stripeErrorCode:v}),loading:t,neutralButtonText:i(or),actionButtonText:i(lr),onNeutral:function(){(0,we.fireEvent)(Qt.CANCEL_ADD_CLICKED),w.close()},onAction:function(){(0,we.fireEvent)(Qt.SUBMIT_ADD_CLICKED),Jr(a,void 0,void 0,function(){var t,n,r,a;return Zr(this,function(e){switch(e.label){case 0:if(!d||!f)return w.close(),[2];p(!0),h(null),n=\"\"===u&&m!==c?{return_url:Bt(),payment_method_data:{billing_details:{email:m},allow_redisplay:\"always\"}}:{return_url:Bt(),payment_method_data:{allow_redisplay:\"always\"}},e.label=1;case 1:return e.trys.push([1,3,,4]),(0,we.fireEvent)(en.CONFIRM_SETUP_INTENT_CALLED),[4,d.confirmSetup({elements:f,redirect:\"if_required\",confirmParams:n})];case 2:if(t=e.sent(),\"succeeded\"===(null===(n=null==t?void 0:t.setupIntent)||void 0===n?void 0:n.status))(0,we.fireEvent)(en.CONFIRM_SETUP_INTENT_SUCCEEDED),(y=null!==(r=null===(r=null===(r=null==t?void 0:t.setupIntent)||void 0===r?void 0:r.payment_method)||void 0===r?void 0:r.toString())&&void 0!==r?r:\"\")&&E(o,5e3,3);else if(null!==(r=null==t?void 0:t.error)&&void 0!==r&&r.code){switch((0,we.fireEvent)(en.CONFIRM_SETUP_INTENT_FAILED),t.error.code){case tn:case rn:h(null===(a=null==t?void 0:t.error)||void 0===a?void 0:a.code);break;case nn:l.warning(i(Cr)||\"Card declined. Please review the card details or try a different card.\"),w.close();break;default:l.warning(i(mr)),w.close()}p(!1)}return[3,4];case 3:return e.sent(),(0,we.fireEvent)(en.CONFIRM_SETUP_INTENT_FAILED),l.warning(i(mr)),w.close(),p(!1),[3,4];case 4:return[2]}})})},closeable:!0,size:\"md\",actionButtonShow:!0,disableActionButton:e})},w]}function ea(r){return Ia(void 0,void 0,Promise,function(){var t,n;return Ma(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/credit-balance/v1/next-purchasable-metadata\"},n={address:r},[2,Yt.httpService.post(t,n)]})})}function ta(r){return Ia(void 0,void 0,Promise,function(){var t,n;return Ma(this,function(e){return t={paymentProviderType:\"Credit\",providerPayload:{product_id:!r?void 0:r}},n={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/process-payment\"},[2,Yt.httpService.post(n,t)]})})}function na(r,a){return Ia(void 0,void 0,Promise,function(){var t,n;return Ma(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/prepare-payment-for-credit-conversion\"},n={paymentFlowId:pa.paymentFlowAnalyticsService.purchaseFlowUuid,paymentSessionId:null==r?void 0:r.id,address:a},[2,Yt.httpService.post(t,n)]})})}function ra(e,t,n,r){e=e?pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.PASSED_PREPARE_PAYMENT_REQUEST:pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.FAILED_PREPARE_PAYMENT_REQUEST,r&&(e=pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.PASSED_PREPARE_PAYMENT_REQUEST_WITH_TAX),t=n?t?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITHOUT_TAX:t?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITHOUT_TAX,pa.paymentFlowAnalyticsService.sendUserPurchaseStatusEvent(pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE,e,void 0,t)}function aa(e){pa.paymentFlowAnalyticsService.sendUserPurchaseStatusEvent(pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE,e?pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.PASSED_GET_NEXT_PURCHASABLE_METADATA:pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.FAILED_GET_NEXT_PURCHASABLE_METADATA,void 0,void 0)}function oa(e,t,n){t=n?t?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITHOUT_TAX:t?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITHOUT_TAX,pa.paymentFlowAnalyticsService.sendUserPurchaseStatusEvent(pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE,e?pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.PASSED_UPDATE_ADDRESS_FOR_CHECKOUT_SESSION:pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.FAILED_UPDATE_ADDRESS_FOR_CHECKOUT_SESSION,void 0,t)}function ia(e,t,n){t=n?t?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITHOUT_TAX:t?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITHOUT_TAX,pa.paymentFlowAnalyticsService.sendUserPurchaseStatusEvent(pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE,e?pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.PASSED_PROCESS_PAYMENT:pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.FAILED_PROCESS_PAYMENT,void 0,t)}function la(r,a,o,i){return Oa(void 0,void 0,Promise,function(){var t,n;return La(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/prepare-payment\"},n={paymentMethod:a,productId:r,paymentSessionId:null==o?void 0:o.id,paymentFlowId:pa.paymentFlowAnalyticsService.getPaymentFlowUuid(),address:i},[2,Yt.httpService.post(t,n)]})})}function sa(r,a){return Oa(void 0,void 0,Promise,function(){var t,n;return La(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/update-address-for-checkout-session\"},n={checkoutSessionId:a,address:r},[2,Yt.httpService.post(t,n)]})})}function ua(e,t,n,r,a,o){var i=pa.upsellUtil.parseUpsellCookie(),r={product_id:e,upsellUuid:i.upsellUuid,upsellItemPath:i.targetItemUrl,checkoutSessionToken:r},n=Ua({paymentProviderType:\"Credit\",providerPayload:Ua(Ua({},r),{productId:e}),paymentSessionId:a,checkoutSessionId:o},\"\"!==n&&{billingEmailType:n,billingEmail:t}),t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/process-payment\"};return Yt.httpService.post(t,n)}var ca,da,fa,pa=CoreRobloxUtilities,ma={AvailableCreditLabel:\"Label.AvailableCreditWithColon\",BalanceDueLabel:\"Label.BalanceDue\",CreditAfterTransaction:\"Label.CreditAfterTransaction\",RemainingBalance:\"Label.RemainingBalance\",ConvertibleCredit:\"Label.ConvertibleCredit\",LargeCreditBalanceTooltipMessage:\"Message.LargeCreditBalanceTooltip\",GetRobuxAction:\"Action.GetRobux\",GetPremiumAction:\"ActionsGetPremium\",ConvertCreditToRobuxAction:\"Label.ConvertCreditSuccess\",BuyAction:\"Action.Buy\",CancelAction:\"Action.Cancel\",ConvertToRobuxAction:\"Action.ConvertToRobux\",ConvertCreditToRobuxModalHeading:\"Label.ConvertCreditSuccess\",BuyRobuxWithCreditModalHeading:\"Heading.BuyRobuxWithCredit\",ConvertCreditToRobuxHeading:\"Heading.ConvertCreditToRobux\",LargestPackageYouCanBuyStep1Message:\"Message.Step1LargestAvailablePackageYouCanBuy\",NextLargestPackageStep2Message:\"Message.Step2NextLargestPackage\",ConvertToRobuxStep3Message:\"Message.Step3ConvertRobux\",ConvertCreditToRobuxMessage:\"Message.ConvertCreditToRobux\",ConvertCreditToRobuxMessageTwentyFivePercentMore:\"Message.ConvertCreditToRobux25PercentMore\",ConvertCreditToRobuxMessageTwentyFivePercentMoreStandalone:\"Message.25PercentMoreRobuxConvert\",RobuxPackagePurchasedSuccessAlert:\"Alert.RobuxPackagePurchased\",RobuxPackagePurchasedFailedAlert:\"Alert.RobuxPackagePurchaseFailed\",ConvertedCreditToRobuxSuccessAlert:\"Alert.SuccessfullyConvertedCreditToRobux\",ConvertedCreditToRobuxFailedAlert:\"Heading.CreditConversionFail\",GenericFailureAlert:\"Alert.GenericFailure\",CreditConversionHeading:\"Heading.CreditConversion\",CreditConversionDesription:\"Description.CreditConversion\",CodeValueLabel:\"Label.CodeValue\",ConversionLabel:\"Label.Conversion\",ContinueAction:\"Action.Continue\",CodeNotYetRedeemedHeading:\"Heading.CodeNotYetRedeemed\",CodeNotYetRedeemedMessage:\"Message.CodeNotYetRedeemed\",OkAction:\"Action.Ok\",CreditConversionConfirmation:\"Message.CreditConversionConfirmation\",CalculatingTax:\"Message.CalculatingTax\",OrderSummaryLabel:\"Header.OrderSummary\",RobuxPurchasedLabel:\"Message.RobuxPurchased\",IncludesUpToTwentyFivePercentMoreRobuxLabel:\"Message.IncludesUpToTwentyFivePercentMoreRobux\",EnjoyUpToTwentyFivePercentMoreRobuxLabel:\"Message.EnjoyUpToTwentyFivePercentMoreRobux\"},va=\"NewCreditConversionGetNextPurchasableFailedStatusCode\",ha=\"NewCreditConversionGetNextPurchasableCreditBalanceZero\",ya=\"NewCreditConversionGetNextPurchasableUnexpectedException\",ba=\"NewCreditConversionGetNextPurchasableConversion\",Ea=\"NewCreditConversionGetNextPurchasableProductPurchase\",ga=\"ProcessPaymentRequestFailedStatusCode\",wa=\"ProcessPaymentNextStep\",Ca=\"ProcessPaymentNotSuccessful\",Sa=\"ProcessPaymentNotSuccessful\",Ta=\"ProcessPaymentUnexpectedException\",Aa=\"ProcessPaymentEconomicRestriction\",Pa=\"ConversionCancelClicked\",xa=\"ProductPurchaseCancelClicked\",ka=\"CreditConversionSwitchedToProductPurchase\",_a=\"CreditConversionProductSwitchFailed\",Na=\"UpdateAddressFailedStatusCode\",Da={TIMEOUT_SHOW_MS:200,TIMEOUT_HIDE_MS:5e3},Ra={500:400,1e3:800,2e3:1700,5250:4500,11e3:1e4,24e3:22500,550:440,1100:880,2200:1870,5800:4950,12100:11e3,26400:25e3},Ia=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Ma=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ua=function(){return(Ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Oa=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},La=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Fa=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Ba=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Ga(t,n,r){return new Promise(function(e){(0,we.fireEvent)(\"API_COUNTER_\"+t+\"_\"+n+\"_\"+(r||\"Throughput\")),e()})}function Ha(t,n,r){return new Promise(function(e){(0,we.fireEvent)(\"ERROR_COUNTER_\"+t+\"_\"+n+\"_\"+(r||\"UnknownAxiosError\")),e()})}function Ya(i,l,e,s,u){var c,d=e.feature,f=e.call;return Fa(this,void 0,Promise,function(){var a,o;return Ba(this,function(e){switch(e.label){case 0:Ga(d,f),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i===ca.GET?Yt.httpService.get(l,s):Yt.httpService.post(l,s)];case 2:return a=e.sent(),o=a.data,a=a.headers,Ga(d,f,200),[2,(null==u?void 0:u(o,a))||o];case 3:return o=e.sent(),\"object\"==typeof(r=o)&&\"status\"in r?Ha(d,f,o.status):\"object\"==typeof(r=o)&&\"config\"in r?Ha(d,f,null===(c=o.response)||void 0===c?void 0:c.status):(console.error(o),t=d,n=f,new Promise(function(e){(0,we.fireEvent)(\"ERROR_COUNTER_\"+t+\"_\"+n+\"_NonAxiosError\"),e()})),[2,void 0];case 4:return[2]}var t,n,r})})}(_t=ca=ca||{}).GET=\"GET\",_t.POST=\"POST\",(C=da=da||{}).PAYMENT=\"Payment\",C.ROBUX=\"Robux\",C.ROBUX_GIFTING=\"RobuxGifting\",C.ROBUX_REDESIGN=\"RobuxRedesign\",(le=fa=fa||{}).VERIFY_PHONE_VERIFICATION_SESSION=\"VerifyPhoneVerificationSession\",le.LANDING_PAGE_METADATA=\"GetLandingPageMetadata\",le.GET_USER_NAME=\"GetUserName\",le.PREPARE_PAYMENT=\"PreparePayment\",le.GET_METADATA=\"GetMetadata\",le.GET_PRODUCTS=\"GetProducts\",le.GET_PAYMENT_METHODS_INFO=\"GetPaymentMethodsInfo\",le.GET_PURCHASE_WARNING=\"GetPurchaseWarning\",le.GET_USER_PURCHASE_ELIGIBILITY=\"GetUserPurchaseEligibility\",le.CREATE_PAYMENT_SESSION=\"CreatePaymentSession\",le.GET_PAYMENT_SESSION=\"GetPaymentSession\",le.GET_PAYMENT_SESSION_BY_CHECKOUT_SESSION_ID=\"GetPaymentSessionByCheckoutSessionId\",le.CREATE_BONUS_SESSION=\"CreateBonusSession\",le.GET_BONUS_SESSION_BY_CHECKOUT_SESSION_ID=\"GetBonusSessionByCheckoutSessionId\",le.GET_THUMBNAILS=\"GetThumbnails\",le.HANDLE_GAME_PASS_JOIN_EVENT=\"HandleGamePassJoinEvent\",le.GET_ROBUX_BALANCE=\"GetRobuxBalance\",le.GET_AUTH_TICKET=\"GetAuthTicket\",le.GET_CLIENT_ASSERTION=\"GetClientAssertion\";var Wa=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},ja=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(kt={}).IOS_CLIENT=\"IosClient\",kt.ANDROID_CLIENT=\"AndroidClient\";var Va=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},qa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Xa=\"paymentSession-\"+((null===P.CurrentUser||void 0===P.CurrentUser?void 0:P.CurrentUser.userId)||\"loggedout\");function za(e){var t=this;void 0===e&&(e=!1);var e=(0,Ee.useState)(e?void 0:pa.localStorageService.getLocalStorage(Xa)),n=e[0],a=e[1],r=(0,Ee.useCallback)(function(r){return Va(t,void 0,void 0,function(){var n;return qa(this,function(e){switch(e.label){case 0:return r?[4,(t=r,Wa(void 0,void 0,Promise,function(){return ja(this,function(e){return[2,Ya(ca.GET,{withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/payment-sessions/\"+t},{feature:da.PAYMENT,call:fa.GET_PAYMENT_SESSION})]})}))]:[3,2];case 1:return n=e.sent(),[3,4];case 2:return[4,Wa(void 0,void 0,Promise,function(){return ja(this,function(e){return[2,Ya(ca.POST,{withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/payment-sessions\"},{feature:da.PAYMENT,call:fa.CREATE_PAYMENT_SESSION},{paymentFlowId:pa.paymentFlowAnalyticsService.getPaymentFlowUuid()})]})})];case 3:n=e.sent(),e.label=4;case 4:return(n=n)?(pa.localStorageService.setLocalStorage(Xa,n.paymentSession),a(n.paymentSession),[2]):[2]}var t})})},[]);return(0,Ee.useEffect)(function(){var e;n?new Date(n.expiresAt)<new Date&&r():(e=null===(e=Yt.urlService.getQueryParam(\"paymentSessionId\"))||void 0===e?void 0:e.toString(),r(e))},[r,n]),n}(_t=Oo=Oo||{}).RobloxCredit=\"robloxCredit\",_t.RedeemCard=\"redeemCard\",_t.Credit=\"credit\";var Ka,Qa={paymentMethodPage:\"/upgrades/paymentmethods\",PaymentMethod:Oo,translations:{orderSummaryLabel:{key:\"Header.OrderSummary\",default:\"Order Summary\"},AvailableCreditLabel:{key:\"Label.AvailableCredit\",default:\"Available Credit\"},remainingBalanceLabel:{key:\"Label.RemainingBalance\",default:\"Remaining Balance\"},taxLabel:{key:\"Label.Tax\",default:\"Tax\"},taxInfoTooltip:{key:\"Description.TaxInfoTooltip\",default:\"Tax is determined by billing information\"},calculatingTaxLabel:{key:\"Label.CalculatingTax\",default:\"Calculating tax\"},purchaseDisclosureDescription:{key:\"Description.LegalAgreementOnCreditBalanceCheckoutWithTax\"},calculateTaxErrorDescription:{key:\"Description.CalculateTaxError\",default:\"Calculating tax error\"}}};function Ja(e){return void 0!==e.data&&void 0!==e.data.expirationTimeInMinutes&&void 0!==e.data.failureReason}function Za(e,t){switch(t){case Ka.FraudPaymentAuthorizationAttempt:return e(\"Label.Sublabel.FraudPaymentAbuse\");case Ka.FraudVirtualEconomyAbuse:return e(\"Label.Sublabel.FraudVirtualEconomyAbuse\");case Ka.FraudAbuseOfAffiliateSystem:return e(\"Label.Sublabel.FraudAbuseOfTheAffiliateSystem\");case Ka.FraudAttemptedUnauthorizedPaymentMethodUse:return e(\"Label.Sublabel.FraudAttemptedUnauthorizedPaymentMethodUse\");case Ka.FraudRepeatedRefundRequests:return e(\"Label.Sublabel.FraudRepeatedRefundRequests\");case Ka.FraudSuspiciousRefundRequests:return e(\"Label.Sublabel.FraudSuspiciousRefundRequests\");case Ka.FraudUnauthorizedPurchase:return e(\"Label.Sublabel.FraudUnauthorizedPurchase\");case Ka.FraudUseOfUnauthorizedOffPlatformTransactions:return e(\"Label.Sublabel.FraudUseOfUnauthorizedOffPlatformTransactions\");case Ka.FraudUseOfUnauthorizedPaymentMethod:return e(\"Label.Sublabel.FraudUseOfUnauthorizedPaymentMethod\");case Ka.FraudSuspiciousAccountPatterns:return e(\"Label.Sublabel.FraudSuspiciousAccountPatterns\");case Ka.FraudChargeback:return e(\"Label.AbuseType.Chargeback\");default:return e(\"Label.Sublabel.FraudPaymentAbuse\")}}function $a(e){var t=e.translate,n=e.violation,r=e.timeoutDurationInMinutes,e=Math.ceil(r/60);if(24<e){r=Math.ceil(e/24);return t(\"Text.EconomicRestrictionsDays\",{violation:Za(t,n),day:r})}return t(\"Text.EconomicRestrictionsHours\",{violation:Za(t,n),hour:e})}function eo(o,i){return io(void 0,void 0,Promise,function(){var t,n,r,a;return lo(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,o()];case 1:return 200!==(n=e.sent()).status?(i.onStatusError(n.status),(0,we.fireEvent)(\"\"+i.failedStatusPrefix+n.status),[2]):(t=null===(r=n.data)||void 0===r?void 0:r.providerPayload,!(a=null!==(a=null!==(r=null==t?void 0:t.IsSuccessful)&&void 0!==r?r:null===(a=n.data)||void 0===a?void 0:a.isSuccess)&&void 0!==a&&a)&&i.unsuccessfulPrefix&&(0,we.fireEvent)(\"\"+i.unsuccessfulPrefix+((null==t?void 0:t.ResponseMessage)||\"\")),[4,i.onSuccess(n,a)]);case 2:return e.sent(),[3,4];case 3:return n=e.sent(),null!==(a=i.onError)&&void 0!==a&&a.call(i,n),[3,4];case 4:return[2]}})})}function to(e){return!(!e||\"object\"!=typeof e)&&(\"number\"==typeof e.status||\"object\"==typeof e.response&&null!==e.response&&\"number\"==typeof e.response.status)}function no(e){if(to(e))return e.status||(null===(e=e.response)||void 0===e?void 0:e.status)}function ro(e){var t;if(to(e))return(null===(t=e.response)||void 0===t?void 0:t.data)||e.data}function ao(e){var t=no(e),e=ro(e);return 422===t&&2===e}(C=Ka=Ka||{}).FraudPaymentAuthorizationAttempt=\"FraudPaymentAuthorizationAttempt\",C.FraudVirtualEconomyAbuse=\"FraudVirtualEconomyAbuse\",C.FraudAbuseOfAffiliateSystem=\"FraudAbuseOfAffiliateSystem\",C.FraudAttemptedUnauthorizedPaymentMethodUse=\"FraudAttemptedUnauthorizedPaymentMethodUse\",C.FraudRepeatedRefundRequests=\"FraudRepeatedRefundRequests\",C.FraudSuspiciousRefundRequests=\"FraudSuspiciousRefundRequests\",C.FraudUnauthorizedPurchase=\"FraudUnauthorizedPurchase\",C.FraudUseOfUnauthorizedOffPlatformTransactions=\"FraudUseOfUnauthorizedOffPlatformTransactions\",C.FraudUseOfUnauthorizedPaymentMethod=\"FraudUseOfUnauthorizedPaymentMethod\",C.FraudSuspiciousAccountPatterns=\"FraudSuspiciousAccountPatterns\",C.FraudChargeback=\"FraudChargeback\";var oo=function(e,t,n){if(void 0===n&&(n=!0),void 0!==e&&n)return{amount:e,currencyCode:t}},io=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},lo=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},so={isApiError:to,extractStatusCode:no,extractErrorData:ro,isInvalidProduct:ao,isRetryableNetworkError:function(e){var t=no(e);return t&&400<=t&&t<500?429!==t&&!ao(e)&&408===t:!t||500<=t},extractErrorMessage:function(e){if(!e)return\"Unknown error occurred\";if(\"string\"==typeof e)return e;if(\"object\"==typeof e){if(\"string\"==typeof e.message)return e.message;if(\"string\"==typeof e.error)return e.error;e=ro(e);if(\"string\"==typeof e)return e;if(e&&\"object\"==typeof e)if(\"string\"==typeof e.message)return e.message}return\"An error occurred\"}},uo=function(e){return!!e&&\"object\"==typeof e&&\"isAxiosError\"in e};function co(e,t,n){uo(n)?(0,we.fireEvent)(\"ERROR_COUNTER_\"+e+\"_\"+t+\"_\"+((null===(n=n.response)||void 0===n?void 0:n.status)||\"UnknownAxiosError\")):(0,we.fireEvent)(\"ERROR_COUNTER_\"+e+\"_\"+t+\"_NonAxiosError\")}var fo=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},po=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function mo(p,m,v,h,y){return void 0===y&&(y={}),fo(this,void 0,Promise,function(){var a,o,i,l,s,u,c,d,f;return po(this,function(e){switch(e.label){case 0:u=y.enableRetry,d=void 0!==u&&u,a=y.counterPrefix,c=y.showErrorBanner,o=void 0===c||c,i=y.onError,f=d?2:1,s=1,e.label=1;case 1:if(!(s<=f))return[3,6];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,p()];case 3:return[2,e.sent()];case 4:return(u=e.sent(),l=u,c=s<f,d=so.extractStatusCode(u),co(\"CreditConversion\",m,u),d&&a&&(f=c?\"_RETRY\":\"\",(0,we.fireEvent)(\"\"+a+d+f)),c&&(t=u,n=m,429!==(r=so.extractStatusCode(t))&&((\"UpdateAddress\"!==n||!so.isInvalidProduct(t))&&(r&&400<=r&&r<500?408===r:!r||500<=r))))?[3,5]:(o&&(r=u,\"UpdateAddress\"!==m||!so.isInvalidProduct(r))&&v.warning(h(ma.GenericFailureAlert)||\"Something went wrong! Please try again later.\",Da.TIMEOUT_SHOW_MS,Da.TIMEOUT_HIDE_MS),i&&i(u),[3,6]);case 5:return s++,[3,1];case 6:throw l}var t,n,r})})}function vo(e){var t=e.children,n=e.systemFeedbackService,f=e.translate,r=e.onSuccess,o=za(),a=(z=(0,Ee.useState)(!1))[0],i=z[1],l=(e=(0,Ee.useState)(!1))[0],s=e[1],u=(z=(0,Ee.useState)(!1))[0],c=z[1],d=(e=(0,Ee.useState)(!1))[0],p=e[1],m=(z=(0,Ee.useState)(\"\"))[0],v=z[1],h=(e=(0,Ee.useState)(0))[0],y=e[1],b=(z=(0,Ee.useState)(0))[0],E=z[1],g=(e=(0,Ee.useState)(0))[0],w=e[1],C=(z=(0,Ee.useState)(0))[0],S=z[1],T=(e=(0,Ee.useState)(null))[0],A=e[1],P=(z=(0,Ee.useState)(!1))[0],x=z[1],k=(e=(0,Ee.useState)(!1))[0],_=e[1],N=(z=(0,Ee.useState)(void 0))[0],D=z[1],R=(e=(0,Ee.useState)(void 0))[0],I=e[1],M=(z=(0,Ee.useState)(!1))[0],U=z[1],O=(e=(0,Ee.useState)(!1))[0],L=e[1],F=(z=(0,Ee.useState)(!1))[0],B=z[1],G=(e=(0,Ee.useState)(!1))[0],H=e[1],Y=(z=(0,Ee.useState)(void 0))[0],W=z[1],j=(e=(0,Ee.useState)(void 0))[0],V=e[1],q=(z=(0,Ee.useState)(void 0))[0],X=z[1],z=(e=(0,Ee.useState)(!0))[0],K=e[1],Q=(0,Ee.useMemo)(function(){return r=n,a=f,{call:function(e,t,n){return mo(e,t,r,a,n)},callWithRetry:function(e,t,n){return mo(e,t,r,a,{enableRetry:!0,counterPrefix:n})},callAddressUpdate:function(e,t){return mo(e,\"UpdateAddress\",r,a,{enableRetry:!0,counterPrefix:t})}};var r,a},[n,f]),J=(0,Ee.useCallback)(function(e,t){n.warning(e,Da.TIMEOUT_SHOW_MS,Da.TIMEOUT_HIDE_MS),i(!1),s(!1),t&&(window.location.href=Yt.urlService.getAbsoluteUrl(\"/upgrades/robux\"))},[n]),Z=(0,Ee.useCallback)(function(){J(f(ma.GenericFailureAlert)||\"Something went wrong! Please try again later.\",!0)},[J,f]),$=(0,Ee.useCallback)(function(e,t){t=!t;e?(n.success(f(t?ma.ConvertedCreditToRobuxSuccessAlert:ma.RobuxPackagePurchasedSuccessAlert)),r&&r(t)):n.warning(f(t?ma.ConvertedCreditToRobuxFailedAlert:ma.RobuxPackagePurchasedFailedAlert)||f(ma.GenericFailureAlert)||\"Something went wrong! Please try again later.\",Da.TIMEOUT_SHOW_MS,Da.TIMEOUT_HIDE_MS)},[n,f,r]),ee=(0,Ee.useCallback)(function(e,t){void 0===t&&(t=!1);var n=e.TaxAmount,r=go(e,[\"TaxAmount\"]);void 0!==n&&D(n),A(function(e){return yo(yo({},e),r)}),x(t),void 0!==e.CheckoutSessionToken&&V(e.CheckoutSessionToken)},[A,x,V,D]),te=(0,Ee.useCallback)(function(e){H(e.robloxManagedTax),W(e.checkoutSessionId),void 0!==e.taxRate&&I(e.taxRate),e.providerPayload.CurrencyCode&&ee(e.providerPayload,e.hasBillingAddress)},[H,W,ee]),ne=(0,Ee.useCallback)(function(r,a){return bo(void 0,void 0,void 0,function(){var t,n;return Eo(this,function(e){switch(e.label){case 0:return 0===r.productId?[2,null]:[4,Q.call(function(){return la(r.productId,Qa.PaymentMethod.Credit,o,a)},\"PreparePayment\")];case 1:return n=e.sent(),(t=n.data).isSuccess?(te(t),void 0!==(null===(n=t.selectedProduct)||void 0===n?void 0:n.price)&&w(t.selectedProduct.price),ra(!0,t.robloxManagedTax,!0,null!==t.taxRate),[2,t.checkoutSessionId]):[2,null]}})})},[o,te,w,Q]),re=(0,Ee.useCallback)(function(n){return bo(void 0,void 0,void 0,function(){var t;return Eo(this,function(e){switch(e.label){case 0:return[4,Q.call(function(){return na(o,n)},\"PreparePaymentForCreditConversion\")];case 1:return t=e.sent(),(t=t.data).isSuccess?(te(t),ra(!0,t.robloxManagedTax,!1,null!==t.taxRate),[2,t.checkoutSessionId]):[2,null]}})})},[o,te,Q]),ae=(0,Ee.useCallback)(function(e){0!==e.productId?(i(!0),s(!1),(0,we.fireEvent)(Ea)):(s(!0),i(!1),(0,we.fireEvent)(ba))},[i,s]),oe=(0,Ee.useCallback)(function(t){s(!1),i(!1),A(function(e){return e?yo(yo({},e),{AvailableCreditBalance:t}):null}),(0,we.fireEvent)(ha)},[s,i,A]),ie=(0,Ee.useCallback)(function(e){y(e.productId),0!==e.productId&&(e.robuxAmountProductGrant&&S(e.robuxAmountProductGrant),e.balanceDue&&w(e.balanceDue))},[y,S,w]),le=(0,Ee.useCallback)(function(n,r){return bo(void 0,void 0,void 0,function(){var t;return Eo(this,function(e){switch(e.label){case 0:if(X(r&&!k?r:void 0),0===n.creditBalance||0===n.productId&&0===n.robuxConversionAmount)return oe(n.creditBalance),[2];ie(n),t=0!==n.productId,e.label=1;case 1:return e.trys.push([1,6,,7]),t?[4,ne(n,r)]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,re(r)];case 4:e.sent(),e.label=5;case 5:return ae(n),[3,7];case 6:return e.sent(),ra(!1,G,t),(0,we.fireEvent)(ya),[3,7];case 7:return[2]}})})},[k,ie,oe,ae,ne,re,G]),se=(0,Ee.useCallback)(function(n){return bo(void 0,void 0,void 0,function(){var t;return Eo(this,function(e){switch(e.label){case 0:return[4,Q.callWithRetry(function(){return ea(n)},\"GetNextPurchasable\",va)];case 1:if(200!==(t=e.sent()).status)throw aa(!1),new Error(\"Get next purchasable metadata failed with status \"+t.status);return aa(!0),[4,le(t.data,n)];case 2:return e.sent(),[2]}})})},[Q,le]),ue=(0,Ee.useCallback)(function(t){return bo(void 0,void 0,void 0,function(){return Eo(this,function(e){switch(e.label){case 0:c(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,se(t)];case 2:return e.sent(),[3,5];case 3:return e.sent(),(0,we.fireEvent)(ya),[3,5];case 4:return c(!1),[7];case 5:return[2]}})})},[se]);(0,Ee.useEffect)(function(){var e=null!==(t=null==T?void 0:T.AvailableCreditBalance)&&void 0!==t?t:0,t=null!==(n=null==T?void 0:T.RobuxConversionAmount)&&void 0!==n?n:0,n=!d&&(!G||M&&!O),e=0===h?0<e&&0<t:g<=e;B(n&&e)},[O,M,null==T?void 0:T.AvailableCreditBalance,null==T?void 0:T.RobuxConversionAmount,g,z,d,h,G]);var ce=(0,Ee.useCallback)(function(e){U(e)},[]),de=(0,Ee.useCallback)(function(d){return bo(void 0,void 0,void 0,function(){var a,o,i,l,s,u,c;return Eo(this,function(e){switch(e.label){case 0:if(K(!0),!Y)return[2];e.label=1;case 1:return e.trys.push([1,8,,10]),L(!0),[4,Q.callAddressUpdate(function(){return sa(d,Y)},Na)];case 2:if(c=e.sent().data,u=c.providerPayload,a=u.AvailableCreditBalance,o=u.CurrencyCode,i=u.TaxAmount,l=u.CheckoutSessionToken,s=u.RobuxConversionAmount,u=u.TotalDue,c=c.taxRate,!(a<u))return[3,7];e.label=3;case 3:return e.trys.push([3,5,,6]),[4,se(d)];case 4:return e.sent(),[3,6];case 5:return e.sent(),[3,6];case 6:return L(!1),[2];case 7:return ee({AvailableCreditBalance:a,CurrencyCode:o,TaxAmount:i,CheckoutSessionToken:l,RobuxConversionAmount:s},!0),void 0!==c&&I(c),L(!1),[3,10];case 8:return c=e.sent(),[4,(t=c,n=d,r=se,bo(void 0,void 0,Promise,function(){return Eo(this,function(e){switch(e.label){case 0:if(!so.isInvalidProduct(t))return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),(0,we.fireEvent)(ka),[4,r(n)];case 2:return e.sent(),[2,!0];case 3:return e.sent(),(0,we.fireEvent)(_a),[2,!1];case 4:return[2]}})}))];case 9:return e.sent()?[2]:(L(!1),p(!0),v(f(ma.GenericFailureAlert)||\"Something went wrong! Please try again later.\"),[3,10]);case 10:return[2]}var t,n,r})})},[Y,ee,se,K,f,Q]),fe=(0,Ee.useCallback)(function(t,n){return bo(void 0,void 0,void 0,function(){return Eo(this,function(e){switch(e.label){case 0:return t?0!==h?[4,ue()]:[3,2]:[3,4];case 1:return e.sent(),[3,3];case 2:s(!1),e.label=3;case 3:return E(b+1),(0,we.fireEvent)(wa),[3,5];case 4:i(!1),s(!1),(0,we.fireEvent)(\"\"+Ca+n),e.label=5;case 5:return(0,we.fireEvent)(\"\"+Sa+n),[2]}})})},[ue,b,E,i,s,h]),pe=(0,Ee.useCallback)(function(){return bo(void 0,void 0,void 0,function(){var t;return Eo(this,function(e){switch(e.label){case 0:c(!0),e.label=1;case 1:return e.trys.push([1,6,7,8]),j?[4,eo(function(){return ua(h,\"\",\"\",j,null==o?void 0:o.id,Y)},{failedStatusPrefix:ga,onStatusError:function(){$(!1,h),c(!1)},onSuccess:function(n,r){return bo(void 0,void 0,void 0,function(){var t;return Eo(this,function(e){switch(e.label){case 0:return t=null===(t=n.data)||void 0===t?void 0:t.providerPayload,$(r,h),[4,fe(r,(null==t?void 0:t.ResponseMessage)||\"\")];case 1:return e.sent(),[2]}})})}})]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,eo(function(){return ta(h)},{failedStatusPrefix:ga,onStatusError:function(){$(!1,h),c(!1)},onSuccess:function(a){return bo(void 0,void 0,void 0,function(){var t,n,r;return Eo(this,function(e){switch(e.label){case 0:return r=a.data,t=null!==(n=(null==r?void 0:r.isSuccess)&&(null===(t=null==r?void 0:r.providerPayload)||void 0===t?void 0:t.IsSuccessful))&&void 0!==n&&n,$(null!==(n=null==r?void 0:r.isSuccess)&&void 0!==n&&n,h),[4,fe(t,(null===(r=null==r?void 0:r.providerPayload)||void 0===r?void 0:r.ResponseMessage)||\"\")];case 1:return e.sent(),[2]}})})}})];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return Ja(t=e.sent())?(J($a({translate:f,violation:t.data.failureReason,timeoutDurationInMinutes:t.data.expirationTimeInMinutes}),!1),(0,we.fireEvent)(Aa),[2]):(Z(),(0,we.fireEvent)(Ta),[3,8]);case 7:return c(!1),[7];case 8:return[2]}})})},[j,h,o,Y,$,J,Z,f,fe]),me=(0,Ee.useCallback)(function(e){E(0),p(!1),v(\"\"),ue(e),E(1)},[ue]),ve=(0,Ee.useCallback)(function(){i(!1),(0,we.fireEvent)(xa)},[]),he=(0,Ee.useCallback)(function(){s(!1),(0,we.fireEvent)(Pa)},[]),ye=(0,Ee.useCallback)(function(e){p(!0),v(e)},[]),be=(0,Ee.useCallback)(function(e){_(void 0!==e)},[]),z=(0,Ee.useMemo)(function(){var e;return{isPurchaseModalOpen:a,isConvertModalOpen:l,isLoading:u,isError:d,errorMessage:m,productId:h,numberOfPurchase:b,creditBalance:null!==(e=null==T?void 0:T.AvailableCreditBalance)&&void 0!==e?e:0,currencyCode:null!==(e=null==T?void 0:T.CurrencyCode)&&void 0!==e?e:\"\",convertedRobuxAmount:null!==(e=null==T?void 0:T.RobuxConversionAmount)&&void 0!==e?e:0,totalBalanceDue:g,robuxAmountInPackage:C,tax:null!=T&&T.CurrencyCode?oo(N,T.CurrencyCode,P):void 0,taxRate:R,taxLoading:O,taxDisplay:M,isTaxFlowEnabled:G,checkoutSessionId:Y,prefilledAddress:q,isPurchasable:F,startCreditConversionFlow:me,closePurchaseModal:ve,closeConvertModal:he,onUpdatedAddress:de,onTaxDisplayChange:ce,processPaymentAction:pe,updateError:ye,setSavedUserAddress:be}},[a,l,u,d,m,h,b,T,P,N,R,O,M,g,C,G,Y,q,F,me,ve,he,de,ce,pe,ye,be]);return ge().createElement(wo.Provider,{value:z},t)}function ho(){var e=(0,Ee.useContext)(wo);if(void 0===e)throw new Error(\"useHeuristicCreditConversionData must be used within a HeuristicCreditConversionContext\");return e}var yo=function(){return(yo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bo=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Eo=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},go=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n},wo=(0,Ee.createContext)(void 0),le=PropTypes,kt=xl.n(le),_t=xl(870),Co=xl.n(_t),So=\"ar-\",To=\"en-\",Ao=[\"JPY\"],Po={PRICE_DATA_NOT_VALID:(Oo=\"PriceTag\")+\"DataNotValid\",NUMBER_FORMAT_LOCALE_EXCEPTION:Oo+\"NumberFormatLocaleException\",ARABIC_LOCALE_TRIGGERED:Oo+\"ArabicLocale\"};function xo(e){var t=e.amount,n=e.currencyCode,r=e.tagClassName,e=t<0,a=Math.abs(t),o=\"\"+a+n,i=Co()(\"price-tag\",r);try{var l=(s=Intl.NumberFormat().resolvedOptions().locale).startsWith(So)?((0,we.fireEvent)(Po.ARABIC_LOCALE_TRIGGERED),s.replace(So,To)):s,s={style:\"currency\",currency:n,notation:\"standard\"};1e4<=a&&!Ao.includes(n)&&(s.minimumFractionDigits=0,s.maximumFractionDigits=2,s.maximumSignificantDigits=21,s.notation=\"compact\"),i.split(\" \").includes(\"navbar-compact\")&&(s.maximumSignificantDigits=4),o=Intl.NumberFormat(l,s).format(a)}catch(e){(0,we.fireEvent)(Po.NUMBER_FORMAT_LOCALE_EXCEPTION)}return ge().createElement(\"div\",{className:\"d-flex-inline gap-1 justify-content-start align-items-center\"},e&&ge().createElement(\"span\",{className:i},\"-\"),ge().createElement(\"span\",{className:i},o))}function ko(){return Lo(void 0,void 0,Promise,function(){var t,n;return Fo(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/user-location/approximate-location\"},n={},[2,Yt.httpService.get(t,n)]})})}function _o(){return Lo(void 0,void 0,Promise,function(){var t,n;return Fo(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/user-settings-address\"},n={},[2,Yt.httpService.get(t,n)]})})}function No(r){return Lo(void 0,void 0,Promise,function(){var t,n;return Fo(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/payments-gateway/v1/user-settings-address\"},n={address:r},[2,Yt.httpService.patch(t,n)]})})}function Do(){return ge().createElement(\"span\",{className:\"required-indicator\"},\"*\")}function Ro(e){var t=e.processAddressSave,n=e.onUpdateAddress,r=e.prefilledAddress,a=e.onUpdateSuccess,o=e.onTaxDisplayChange,i=e.hideSaveSection,l=e.onSavedAddressLoaded,e=e.triggeringContext;return ge().createElement(hi,{processAddressSave:t,onUpdateAddress:n,prefilledAddress:r,onUpdateSuccess:a,onTaxDisplayChange:o,hideSaveSection:i,onSavedAddressLoaded:l,triggeringContext:e})}function Io(e){var t=e.translate,n=e.tax,r=e.taxRate,a=e.taxDisplay,o=void 0===(l=e.visible)||l,i=void 0!==(s=e.isLoading)&&s,l=(0,Ee.useMemo)(function(){return t(\"Label.Tax\")||\"Tax\"},[t]),e=(0,Ee.useMemo)(function(){return i||null==r||!a?null:(100*r).toFixed(2)},[r,i,a]),s=(0,Ee.useMemo)(function(){return t(\"Description.TaxInfoTooltip\")||\"Tax is determined by billing information\"},[t]);return o?ge().createElement(\"div\",{className:\"tax-line d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},l,e&&\" (\"+e+\"%)\",ge().createElement(te.Tooltip,{id:\"tax-info-tooltip\",placement:\"right\",content:s},ge().createElement(Uo.InfoOutlinedIcon,{className:\"tax-info-icon\"}))),a?i?ge().createElement(\"div\",{className:\"calculating-tax\"},ge().createElement(\"span\",{className:\"loading-spinner\"}),ge().createElement(\"span\",null,t(\"Label.CalculatingTax\")||\"Calculating tax...\")):n?ge().createElement(Mo,{amount:-1*(n.amount||0),currencyCode:n.currencyCode}):ge().createElement(\"span\",{className:\"text-placeholder\"},\"\u00e2\u0080\u0094\"):ge().createElement(\"span\",{className:\"text-placeholder\"},\"\u00e2\u0080\u0094\")):null}xo.propTypes={amount:kt().number.isRequired,currencyCode:kt().string.isRequired};var Mo=xo,C={common:[\"Feature.Payment\"],feature:\"Feature.BillingAddress\"},Uo=Roblox.ui,_t={US:[{label:\"Alabama\",value:\"Alabama\"},{label:\"Alaska\",value:\"Alaska\"},{label:\"Arizona\",value:\"Arizona\"},{label:\"Arkansas\",value:\"Arkansas\"},{label:\"California\",value:\"California\"},{label:\"Colorado\",value:\"Colorado\"},{label:\"Connecticut\",value:\"Connecticut\"},{label:\"Delaware\",value:\"Delaware\"},{label:\"District of Columbia\",value:\"District of Columbia\"},{label:\"Florida\",value:\"Florida\"},{label:\"Georgia\",value:\"Georgia\"},{label:\"Hawaii\",value:\"Hawaii\"},{label:\"Idaho\",value:\"Idaho\"},{label:\"Illinois\",value:\"Illinois\"},{label:\"Indiana\",value:\"Indiana\"},{label:\"Iowa\",value:\"Iowa\"},{label:\"Kansas\",value:\"Kansas\"},{label:\"Kentucky\",value:\"Kentucky\"},{label:\"Louisiana\",value:\"Louisiana\"},{label:\"Maine\",value:\"Maine\"},{label:\"Maryland\",value:\"Maryland\"},{label:\"Massachusetts\",value:\"Massachusetts\"},{label:\"Michigan\",value:\"Michigan\"},{label:\"Minnesota\",value:\"Minnesota\"},{label:\"Mississippi\",value:\"Mississippi\"},{label:\"Missouri\",value:\"Missouri\"},{label:\"Montana\",value:\"Montana\"},{label:\"Nebraska\",value:\"Nebraska\"},{label:\"Nevada\",value:\"Nevada\"},{label:\"New Hampshire\",value:\"New Hampshire\"},{label:\"New Jersey\",value:\"New Jersey\"},{label:\"New Mexico\",value:\"New Mexico\"},{label:\"New York\",value:\"New York\"},{label:\"North Carolina\",value:\"North Carolina\"},{label:\"North Dakota\",value:\"North Dakota\"},{label:\"Ohio\",value:\"Ohio\"},{label:\"Oklahoma\",value:\"Oklahoma\"},{label:\"Oregon\",value:\"Oregon\"},{label:\"Pennsylvania\",value:\"Pennsylvania\"},{label:\"Rhode Island\",value:\"Rhode Island\"},{label:\"South Carolina\",value:\"South Carolina\"},{label:\"South Dakota\",value:\"South Dakota\"},{label:\"Tennessee\",value:\"Tennessee\"},{label:\"Texas\",value:\"Texas\"},{label:\"Utah\",value:\"Utah\"},{label:\"Vermont\",value:\"Vermont\"},{label:\"Virginia\",value:\"Virginia\"},{label:\"Washington\",value:\"Washington\"},{label:\"West Virginia\",value:\"West Virginia\"},{label:\"Wisconsin\",value:\"Wisconsin\"},{label:\"Wyoming\",value:\"Wyoming\"},{label:\"Guam\",value:\"Guam\"},{label:\"Puerto Rico\",value:\"Puerto Rico\"}],CA:[{label:\"Alberta\",value:\"Alberta\"},{label:\"British Columbia\",value:\"British Columbia\"},{label:\"Manitoba\",value:\"Manitoba\"},{label:\"New Brunswick\",value:\"New Brunswick\"},{label:\"Newfoundland and Labrador\",value:\"Newfoundland and Labrador\"},{label:\"Nova Scotia\",value:\"Nova Scotia\"},{label:\"Ontario\",value:\"Ontario\"},{label:\"Prince Edward Island\",value:\"Prince Edward Island\"},{label:\"Quebec\",value:\"Quebec\"},{label:\"Saskatchewan\",value:\"Saskatchewan\"},{label:\"Northwest Territories\",value:\"Northwest Territories\"},{label:\"Nunavut\",value:\"Nunavut\"},{label:\"Yukon\",value:\"Yukon\"}]},Oo=[{code:\"US\",name:\"United States\",displayName:\"United States\"},{code:\"CA\",name:\"Canada\",displayName:\"Canada\"}],Lo=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Fo=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Bo=(kt=(le={countryLabel:{key:\"Label.BillingAddress.Country\",default:\"Country\"},PostalCode:{key:\"Label.BillingAddress.PostalCode\",default:\"Postal Code\"},cityLabel:{key:\"Label.BillingAddress.City\",default:\"City\"},stateLabel:{key:\"Label.BillingAddress.State\",default:\"State\"},provinceLabel:{key:\"Label.BillingAddress.Province\",default:\"Province\"},saveBillingInformationLabel:{key:\"Button.BillingAddress.SaveBillingInformation\",default:\"Save Billing Information\"},billingInformationHeader:{key:\"Header.BillingAddress.BillingInformation\",default:\"Billing Information\"},approximateUserLocationDescription:{key:\"Description.BillingAddress.ApproximateUserLocation\",default:\"Please enter your address so we can accurately calculate tax. In some cases we may use your device\u00e2\u0080\u0099s location.\"},saveButton:{key:\"Button.BillingAddress.Save\",default:\"Save\"},cancelButton:{key:\"Button.BillingAddress.Cancel\",default:\"Cancel\"}}).saveBillingInformationLabel).key,Go=kt.default,Ho=(0,n.withTranslations)(function(e){var t=e.disabled,n=void 0!==t&&t,r=e.saveBillingInfo,a=e.setSaveBillingInfo,t=e.translate,e=(0,Ee.useCallback)(function(e){a(e.target.checked)},[a]);return ge().createElement(\"div\",{className:\"save-billing-info-checkbox\"},ge().createElement(\"input\",{id:\"save-billing-info\",type:\"checkbox\",className:\"larger-checkbox\",onChange:e,checked:r,disabled:n,tabIndex:0}),ge().createElement(\"label\",{htmlFor:\"save-billing-info\",className:\"form-label\"},t(Bo)||Go))},C),Yo=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Wo=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},jo=(kt=le.countryLabel).key,Vo=kt.default,qo=(kt=le.PostalCode).key,Xo=kt.default,zo=(kt=le.cityLabel).key,Ko=kt.default,Qo=(kt=le.stateLabel).key,Jo=kt.default,Zo=(kt=le.provinceLabel).key,$o=kt.default,ei=(kt=le.saveButton).key,ti=kt.default,ni=(kt=le.cancelButton).key,ri=kt.default,ai=(kt=le.approximateUserLocationDescription).key,oi=kt.default,ii=Oo,li=_t,si=\"US\",ui=(0,n.withTranslations)(function(e){var t=e.initialAddress,n=e.hasSavedAddress,r=e.processAddressSave,a=e.onUpdateAddress,o=e.onUpdateSuccess,i=e.onTaxDisplayChange,l=e.hideSaveSection,s=e.triggeringContext,u=e.translate,c=(0,Ee.useState)(!n),d=c[0],f=c[1],e=(0,Ee.useState)(null!==(v=null==t?void 0:t.country)&&void 0!==v?v:si),p=e[0],m=e[1],v=(0,Ee.useState)(null!==(c=null==t?void 0:t.state)&&void 0!==c?c:\"\"),h=v[0],y=v[1],c=(0,Ee.useState)(null!==(e=null==t?void 0:t.postalCode)&&void 0!==e?e:\"\"),b=c[0],E=c[1],e=(0,Ee.useState)(null!==(v=null==t?void 0:t.postalCode)&&void 0!==v?v:\"\"),g=e[0],w=e[1],v=(0,Ee.useState)(null!==(c=null==t?void 0:t.city)&&void 0!==c?c:\"\"),C=v[0],S=v[1],c=(0,Ee.useState)(null!==(e=null==t?void 0:t.city)&&void 0!==e?e:\"\"),T=c[0],A=c[1],P=(0,Ee.useRef)(!0),x=u(qo)||Xo,k=u(zo)||Ko,_=ii.map(function(e){return{value:e.code,label:e.displayName}}),N=p===si,v=(0,Ee.useState)(!0),D=v[0],R=v[1],e=(0,Ee.useState)(!1),I=e[0],M=e[1],c=(0,Ee.useState)(n?t:void 0),U=c[0],O=c[1],L=n;(0,Ee.useEffect)(function(){pa.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(s,!0,pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_BALANCE_BIILLING_ADDRESS_FORM,pa.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN,void 0,{initial_address_available:t?\"true\":\"false\",has_saved_address:n?\"true\":\"false\"})},[n,t,s]);var v=(0,Ee.useCallback)(function(){f(!0)},[]),F=(0,Ee.useCallback)(function(){return Yo(void 0,void 0,void 0,function(){return Wo(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,No({country:p,state:h,city:C,postalCode:g})];case 1:return 200===e.sent().status&&(null!=o&&o(),O({country:p,state:h,city:C,postalCode:g})),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})},[p,h,C,g,o]);(0,Ee.useEffect)(function(){r&&(l||L||D)&&(!l&&L||F())},[r,p,h,C,g,o,D,F,l,L]);var B=(0,Ee.useCallback)(function(e){return!!(e&&2<=e.length)},[]),G=(0,Ee.useCallback)(function(e){return!!e},[]),H=(0,Ee.useCallback)(function(e){return!(!e||5!==e.length)},[]),Y=(0,Ee.useCallback)(function(){switch(p){case\"US\":return B(C)&&G(h)&&H(g);case\"CA\":return B(C)&&G(h);default:return!1}},[p,h,C,g,B,G,H]);(0,Ee.useEffect)(function(){!l&&L?null!=i&&i(Y()&&!d):null!=i&&i(Y())},[l,L,d,Y,i]),(0,Ee.useEffect)(function(){P.current&&(P.current=!1,n)||Y()&&null!=a&&a({country:p,state:h,city:C,postalCode:g})},[Y,p,h,C,g,a]);var W=(0,Ee.useCallback)(function(){switch(p){case\"US\":return B(T)&&G(h)&&H(b);case\"CA\":return B(T)&&G(h);default:return!1}},[p,h,T,b,B,G,H]),j=(0,Ee.useCallback)(function(){return p===(null==U?void 0:U.country)&&h===(null==U?void 0:U.state)&&C===(null==U?void 0:U.city)&&g===(null==U?void 0:U.postalCode)},[p,h,C,g,U]);(0,Ee.useEffect)(function(){j()||M(W())},[W,j]);var V=(0,Ee.useCallback)(function(){w(b)},[b]),q=(0,Ee.useCallback)(function(){S(T)},[T]),X=(0,Ee.useCallback)(function(e){e=e.target.value;m(e),y(\"\"),S(\"\"),A(\"\"),w(\"\"),E(\"\")},[]),z=(0,Ee.useCallback)(function(t){var e;return(null!==(e=li[p])&&void 0!==e?e:[]).some(function(e){return e.value===t.target.value})?y(t.target.value):y(\"\"),w(\"\"),void E(\"\")},[p]),K=(0,Ee.useMemo)(function(){return ge().createElement(\"div\",{className:\"country-field\"},ge().createElement(\"label\",{htmlFor:\"country-select\",className:\"form-label\"},u(jo)||Vo,\" \",ge().createElement(Do,null)),ge().createElement(te.NativeDropdown,{id:\"country-select\",selectionItems:_,selectedItemvalue:p,onChange:X,className:\"country-select-container\"}))},[_,X,p,u]),Q=(0,Ee.useMemo)(function(){return ge().createElement(\"div\",{className:\"city-field\"},ge().createElement(\"label\",{htmlFor:\"city-input\",className:\"form-label\"},k,\" \",ge().createElement(Do,null)),ge().createElement(\"div\",{className:\"city-input-container\"},ge().createElement(\"input\",{id:\"city-input\",type:\"text\",value:T,onChange:function(e){A(e.target.value)},onBlur:q,placeholder:k})))},[k,T,q]),J=(0,Ee.useMemo)(function(){var e,t=p===si?\"Select State\":\"Select Province\";return ge().createElement(\"div\",{className:\"state-field\"},ge().createElement(\"label\",{htmlFor:\"state-select\",className:\"form-label\"},p===si?u(Qo)||Jo:u(Zo)||$o,\" \",ge().createElement(Do,null)),ge().createElement(te.NativeDropdown,{id:\"state-select\",placeholder:t,selectionItems:null!==(e=li[p])&&void 0!==e?e:[],selectedItemvalue:h||t,onChange:z,className:\"state-select-container\"}))},[z,h,p,u]),Z=(0,Ee.useMemo)(function(){return ge().createElement(\"div\",{className:\"zip-code-field\"},ge().createElement(\"label\",{htmlFor:\"zip-code-input\",className:\"form-label\"},x,\" \",ge().createElement(Do,null)),ge().createElement(\"div\",{className:\"postal-code-input-container\"},ge().createElement(\"input\",{id:\"postal-code-input\",type:\"text\",inputMode:\"US\"===p?\"numeric\":\"text\",pattern:\"US\"===p?\"[0-9]*\":void 0,value:b,onBlur:V,onChange:function(e){e=e.target.value;/^\\d*$/.test(e)&&(E(e),\"US\"===p&&5===e.length&&w(e))},placeholder:x,maxLength:\"US\"===p?5:void 0})))},[x,p,b,V]),e=(0,Ee.useCallback)(function(){return N?ge().createElement(\"div\",{className:\"form-group billing-address-form-group\"},ge().createElement(\"div\",{className:\"billing-fields-row\"},K,Q),ge().createElement(\"div\",{className:\"billing-fields-row\"},J,Z)):ge().createElement(\"div\",{className:\"form-group billing-address-form-group\"},ge().createElement(\"div\",{className:\"billing-fields-row\"},K),ge().createElement(\"div\",{className:\"billing-fields-row\"},Q,J))},[Q,K,N,J,Z]),$=(0,Ee.useCallback)(function(){F(),f(!1),M(!1)},[F,f,M]),ee=(0,Ee.useCallback)(function(){var e;w(null!==(e=null==U?void 0:U.postalCode)&&void 0!==e?e:\"\"),E(null!==(e=null==U?void 0:U.postalCode)&&void 0!==e?e:\"\"),S(null!==(e=null==U?void 0:U.city)&&void 0!==e?e:\"\"),A(null!==(e=null==U?void 0:U.city)&&void 0!==e?e:\"\"),y(null!==(e=null==U?void 0:U.state)&&void 0!==e?e:\"\"),m(null!==(e=null==U?void 0:U.country)&&void 0!==e?e:si),f(!1)},[U,w,S,y,m]),c=(0,Ee.useMemo)(function(){return L?ge().createElement(\"div\",{className:\"billing-address-buttons\"},ge().createElement(te.Button,{variant:te.Button.variants.growth,size:te.Button.sizes.medium,width:te.Button.widths.default,onClick:$,className:\"mr-2 save-address-button\",isDisabled:!I},u(ei)||ti),ge().createElement(te.Button,{variant:te.Button.variants.control,size:te.Button.sizes.medium,width:te.Button.widths.default,onClick:ee,className:\"ml-2 cancel-address-button\"},u(ni)||ri)):ge().createElement(Ho,{saveBillingInfo:D,setSaveBillingInfo:R})},[ee,$,I,D,L,u]);if(d)return ge().createElement(\"div\",{className:\"billing-address-form-container\"},!l&&ge().createElement(\"p\",{className:\"approximate-user-location-label\"},u(ai)||oi),e(),!l&&c);c=N?(null==U?void 0:U.city)+\", \"+(null==U?void 0:U.state)+\", \"+(null==U?void 0:U.postalCode)+\", \"+(null==U?void 0:U.country):(null==U?void 0:U.city)+\", \"+(null==U?void 0:U.state)+\", \"+(null==U?void 0:U.country);return ge().createElement(\"div\",{className:\"formatted-address-container\"},ge().createElement(\"p\",{className:\"formatted-address-label\"},c),ge().createElement(\"button\",{type:\"button\",onClick:v,\"aria-label\":\"Edit billing address\",className:\"edit-address-button\"},ge().createElement(Uo.EditIcon,null)))},C),ci=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},di=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},fi=Oo,pi=_t,mi=(le=le.billingInformationHeader).key,vi=le.default,hi=(0,n.withTranslations)(function(e){var t=e.processAddressSave,n=e.onUpdateAddress,r=e.prefilledAddress,a=e.onUpdateSuccess,o=e.onTaxDisplayChange,i=e.hideSaveSection,l=e.onSavedAddressLoaded,s=e.triggeringContext,u=e.translate,c=(0,Ee.useState)(!0),d=c[0],f=c[1],p=(0,Ee.useState)(),e=p[0],m=p[1],c=(0,Ee.useState)(),p=c[0],v=c[1];return(0,Ee.useEffect)(function(){if(r)return null!=l&&l(void 0),void f(!1);ci(void 0,void 0,void 0,function(){return di(this,function(e){switch(e.label){case 0:return[4,Promise.all([ci(void 0,void 0,void 0,function(){var t,n,r,a;return di(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,_o()];case 1:return a=e.sent().data.address,t=a.country,n=a.state,r=a.city,a=a.postalCode,m(a={country:t,state:n,city:r,postalCode:a}),null!=l&&l(a),[3,3];case 2:return e.sent(),null!=l&&l(void 0),[3,3];case 3:return[2]}})}),ci(void 0,void 0,void 0,function(){var t,n,r,a,o;return di(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ko()];case 1:return a=e.sent().data,t=a.countryCode,n=a.subdivision,r=a.city,a=a.postalCode,pa.paymentFlowAnalyticsService.sendUserPurchaseStatusEvent(s,pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.PASSED_GET_APPROXIMATE_USER_LOCATION,void 0,pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_BALANCE_BIILLING_ADDRESS_FORM),fi.some(function(e){return e.code===t})&&null!==(o=pi[t])&&void 0!==o&&o.some(function(e){return e.value===n})&&v({country:t,state:n,city:r,postalCode:a}),[3,3];case 2:return e.sent(),pa.paymentFlowAnalyticsService.sendUserPurchaseStatusEvent(s,pa.paymentFlowAnalyticsService.ENUM_PURCHASE_STATUS.FAILED_GET_APPROXIMATE_USER_LOCATION,void 0,pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_BALANCE_BIILLING_ADDRESS_FORM),[3,3];case 3:return[2]}})})])];case 1:return e.sent(),f(!1),[2]}})})},[r,l]),d?null:ge().createElement(\"div\",{className:\"billing-info-container\"},ge().createElement(\"h5\",{className:\"billing-info-title\"},u(mi)||vi),ge().createElement(ui,{processAddressSave:t,initialAddress:null!==(t=null!=r?r:e)&&void 0!==t?t:p,hasSavedAddress:void 0!==e,onUpdateAddress:n,onUpdateSuccess:a,onTaxDisplayChange:o,hideSaveSection:i,triggeringContext:s}))},C),le={common:[\"CommonUI.Controls\",\"CommonUI.Features\",\"IAPExperience.PurchaseError\",\"Feature.NotApproved\",\"Feature.PaymentRedeem\"],feature:\"Purchasing.RedeemGameCard\"},yi=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},bi=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ei=(C=(0,te.createModal)())[0],gi=C[1],wi=(0,n.withTranslations)(function(e){var t=e.translate,n=ho(),r=n.isPurchaseModalOpen,a=n.isLoading,o=n.creditBalance,i=n.totalBalanceDue,l=n.currencyCode,s=n.numberOfPurchase,u=n.robuxAmountInPackage,c=n.tax,d=n.taxRate,f=n.taxLoading,p=n.taxDisplay,m=n.isTaxFlowEnabled,v=n.onUpdatedAddress,h=n.onTaxDisplayChange,y=n.processPaymentAction,b=n.closePurchaseModal,E=n.prefilledAddress,g=n.isPurchasable,w=n.setSavedUserAddress,C=(0,Ee.useState)(!1),e=C[0],S=C[1];(0,Ee.useEffect)(function(){r?(gi.open(),pa.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE,!0,m?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_PACKAGE_PURCHASE_MODAL_WITHOUT_TAX,pa.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN)):gi.close()},[r,m]);n=(0,Ee.useCallback)(function(n){return yi(void 0,void 0,void 0,function(){var t;return bi(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,v(n)];case 1:return e.sent(),oa(!0,m,!0),[3,3];case 2:return t=e.sent(),oa(!1,m,!0),co(\"CreditConversion\",\"UpdateAddress\",t),[3,3];case 3:return[2]}})})},[v,m]),C=(0,Ee.useCallback)(function(){m&&S(!0),y().catch(function(e){ia(!1,m,!0),co(\"CreditConversion\",\"ProcessPaymentAction\",e)}),ia(!0,m,!0)},[m,y]);return ge().createElement(Ei,{id:\"purchase-product-modal\",title:t(ma.BuyRobuxWithCreditModalHeading),onClose:b,onNeutral:b,body:ge().createElement(\"div\",{className:\"d-flex flex-direction-column\"},m&&ge().createElement(ge().Fragment,{key:\"purchase-banner-sections\"},ge().createElement(\"div\",{className:\"order-summary bold\"},t(ma.OrderSummaryLabel)||\"Order Summary\"),ge().createElement(\"div\",{className:\"purchase-banner\"},ge().createElement(\"span\",{className:\"purchase-text\"},t(ma.RobuxPurchasedLabel)||\"Robux purchased\"),ge().createElement(\"span\",{className:\"robux-amount-container\"},ge().createElement(\"div\",{className:\"robux-amount\"},ge().createElement(\"span\",{className:\"low-cogs-robux-amount-inline\"},ge().createElement(\"span\",{className:\"icon-robux-28x28\",style:{transform:\"translateY(-2px)\"}}),u),ge().createElement(\"span\",{className:\"high-cogs-robux-amount-inline\"},ge().createElement(\"span\",{className:\"icon-robux-gray-16x16\",style:{transform:\"translateY(-2px)\"}}),Ra[u])),ge().createElement(\"div\",{className:\"robux-amount-text\"},t(ma.IncludesUpToTwentyFivePercentMoreRobuxLabel)||\"Includes up to 25% more Robux\")))),ge().createElement(\"div\",{className:\"available-credit d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},t(\"Label.AvailableCredit\")||\"Available Credit\"),ge().createElement(Mo,{amount:o,currencyCode:l})),ge().createElement(\"div\",{className:\"balance-due d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},(t(ma.BalanceDueLabel)||\"Balance Due:\").replace(\":\",\"\")),ge().createElement(Mo,{amount:-1*i,currencyCode:l})),ge().createElement(Io,{visible:m,translate:t,tax:c,taxRate:d,isLoading:f,taxDisplay:p}),ge().createElement(\"div\",{className:\"rbx-divider\"}),ge().createElement(\"div\",{className:\"remaining-balance d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},t(ma.RemainingBalance)||\"Remaining Balance\"),ge().createElement(Mo,{amount:o-i-(p&&c?c.amount:0),currencyCode:l})),!m&&ge().createElement(\"div\",{className:\"purchase-prompt\"},1===s?t(ma.LargestPackageYouCanBuyStep1Message)||\"Largest package you can buy with your available credit:\":t(ma.NextLargestPackageStep2Message),ge().createElement(\"span\",{className:\"robux-amount-inline\"},\" \",ge().createElement(\"span\",{className:\"icon-robux-16x16\",style:{transform:\"translateY(-2px)\"}}),u),\". \",t(ma.ConvertCreditToRobuxMessageTwentyFivePercentMoreStandalone)),m&&ge().createElement(ge().Fragment,{key:\"tax-flow-sections\"},ge().createElement(\"div\",{className:\"billing-info-section\"},ge().createElement(Ro,{processAddressSave:e,onUpdateAddress:n,onTaxDisplayChange:h,prefilledAddress:E,onSavedAddressLoaded:w,triggeringContext:pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE}))),ge().createElement(\"div\",{className:\"modal-footer-buttons d-flex justify-content-between mt-4\"},a?ge().createElement(\"button\",{type:\"button\",className:\"btn-growth-md btn-full-width mr-2 loading-button-container\",disabled:!0},ge().createElement(\"span\",{className:\"loading-button-text\"},t(ma.BuyAction)),ge().createElement(\"span\",{className:\"spinner spinner-sm loading-button-spinner\"})):ge().createElement(te.Button,{variant:te.Button.variants.growth,size:te.Button.sizes.medium,width:te.Button.widths.full,onClick:C,isDisabled:!g,className:\"mr-2\"},t(ma.BuyAction)))),actionButtonShow:!1})},le),Ci=function(e,t,n,r,a){return 1===t?e(ma.ConvertCreditToRobuxMessageTwentyFivePercentMore,{robuxAmount:'<span class=\"icon-robux-16x16\" style=\"transform: translateY(-2px)\"></span>'+n,boldStart:\"<b>\",boldEnd:\"</b>\"}):e(ma.ConvertToRobuxStep3Message,{remainingCreditBalance:\"<span class='fiat-price-tag ml-1' data-amount=\"+r+\" data-currency-code=\"+a+\"></span>\",lineBreaker:\"<br /><br />\",robuxConversionAmount:'<span class=\"icon-robux-16x16\" style=\"transform: translateY(-2px)\"></span><b>'+n+\"</b>\"})+\" \"+e(ma.ConvertCreditToRobuxMessageTwentyFivePercentMoreStandalone)},Si=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Ti=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ai=(C=(0,te.createModal)())[0],Pi=C[1],xi=(0,n.withTranslations)(function(e){var t=e.translate,n=ho(),r=n.isConvertModalOpen,a=n.isLoading,o=n.isPurchasable,i=n.creditBalance,l=n.currencyCode,s=n.convertedRobuxAmount,u=n.numberOfPurchase,c=n.tax,d=n.taxRate,f=n.taxLoading,p=n.taxDisplay,m=n.isTaxFlowEnabled,v=n.onUpdatedAddress,h=n.onTaxDisplayChange,y=n.processPaymentAction,b=n.closeConvertModal,E=n.prefilledAddress,g=n.setSavedUserAddress,w=(0,Ee.useState)(!1),C=w[0],S=w[1];(0,Ee.useEffect)(function(){r?(Pi.open(),pa.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE,!0,m?pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITH_TAX:pa.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CREDIT_CONVERSION_MODAL_WITHOUT_TAX,pa.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.VIEW_SHOWN)):Pi.close()},[r,m]);e=(0,Ee.useCallback)(function(){window.dispatchEvent(new CustomEvent(\"price-tag:render\",{detail:{targetSelector:\".fiat-price-tag\"}}))},[]),n=(0,Ee.useCallback)(function(n){return Si(void 0,void 0,void 0,function(){var t;return Ti(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,v(n)];case 1:return e.sent(),oa(!0,m,!1),[3,3];case 2:return t=e.sent(),oa(!1,m,!1),co(\"CreditConversion\",\"UpdateAddress\",t),[3,3];case 3:return[2]}})})},[m,v]),w=(0,Ee.useCallback)(function(){m&&S(!0),y().catch(function(e){ia(!1,m,!1),co(\"CreditConversion\",\"ProcessPaymentAction\",e)}),ia(!0,m,!1)},[m,y]);return ge().createElement(Ai,{id:\"convert-credit-modal\",title:t(ma.ConvertCreditToRobuxModalHeading),onClose:b,onNeutral:b,body:[m&&ge().createElement(ge().Fragment,{key:\"tax-flow-sections\"},ge().createElement(\"div\",{key:\"order-summary\",className:\"order-summary bold\"},t(ma.OrderSummaryLabel)||\"Order Summary\"),ge().createElement(\"div\",{key:\"purchase-banner\",className:\"purchase-banner\"},ge().createElement(\"span\",{className:\"purchase-text\"},t(ma.RobuxPurchasedLabel)||\"Robux purchased\"),ge().createElement(\"span\",{className:\"robux-amount-container\"},ge().createElement(\"div\",{className:\"robux-amount\"},ge().createElement(\"span\",{className:\"low-cogs-robux-amount-inline\"},ge().createElement(\"span\",{className:\"icon-robux-28x28\",style:{transform:\"translateY(-2px)\"}}),s),5<s&&ge().createElement(\"span\",{className:\"high-cogs-robux-amount-inline\"},ge().createElement(\"span\",{className:\"icon-robux-gray-16x16\",style:{transform:\"translateY(-2px)\"}}),Math.floor(s/1.25))),ge().createElement(\"div\",{className:\"robux-amount-text\"},t(ma.IncludesUpToTwentyFivePercentMoreRobuxLabel)||\"Includes up to 25% more Robux\"))),ge().createElement(\"div\",{key:\"available-credit\",className:\"available-credit d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},t(\"Label.AvailableCredit\")||\"Available Credit\"),ge().createElement(Mo,{amount:i,currencyCode:l})),ge().createElement(\"div\",{key:\"convertible-credit\",className:\"convertible-credit d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},t(ma.ConvertibleCredit)||\"Convertible Credit\"),ge().createElement(Mo,{amount:i-(p&&c?c.amount:0),currencyCode:l})),ge().createElement(Io,{key:\"tax-line\",translate:t,tax:c,taxRate:d,isLoading:f,taxDisplay:p}),ge().createElement(\"div\",{key:\"divider\",className:\"rbx-divider\"}),ge().createElement(\"div\",{className:\"remaining-balance d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},t(ma.RemainingBalance)||\"Remaining Balance\"),ge().createElement(Mo,{amount:0,currencyCode:l})),ge().createElement(\"div\",{key:\"billing-info-section\",className:\"billing-info-section\"},ge().createElement(Ro,{processAddressSave:C,onUpdateAddress:n,onTaxDisplayChange:h,prefilledAddress:E,onSavedAddressLoaded:g,triggeringContext:pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE}))),!m&&ge().createElement(\"div\",{key:\"conversion-message-\"+s+\"-\"+i,className:\"conversion-message\",style:{marginTop:\"12px\"},dangerouslySetInnerHTML:{__html:Ci(t,u,s,i,l)},ref:e}),ge().createElement(\"div\",{key:\"modal-footer-buttons\",className:\"modal-footer-buttons d-flex justify-content-between mt-4\"},a?ge().createElement(\"button\",{type:\"button\",className:\"btn-growth-md btn-full-width mr-2 loading-button-container\",disabled:!0},ge().createElement(\"span\",{className:\"loading-button-text\"},t(ma.ConvertToRobuxAction)),ge().createElement(\"span\",{className:\"spinner spinner-sm loading-button-spinner\"})):ge().createElement(te.Button,{variant:te.Button.variants.growth,size:te.Button.sizes.medium,width:te.Button.widths.full,onClick:w,isDisabled:!o,className:\"mr-2\"},t(ma.ConvertToRobuxAction)))],actionButtonShow:!1,size:\"md\"})},le);function ki(e){var t=e.translate,n=e.systemFeedbackService,r=e.showConvertButton,a=(e.robuxAmount,e.balance),o=e.currencyCode,i=e.isConvertAllFlowEnabled,l=e.setZeroBalance,s=t(_n),u=t(Xn),c=(f=Ui({systemFeedbackService:n,translate:t,onSuccess:function(e){l()}}))[0],d=f[1],f=(e=Fi())[0],p=e[1];return ge().createElement(\"div\",{className:\"roblox-credit-container\"},ge().createElement(c,null),i&&ge().createElement(f,{systemFeedbackService:n,translate:t,onSuccess:function(){l()}}),ge().createElement(\"div\",{className:\"roblox-credit-header-container\"},ge().createElement(\"span\",{className:\"payment-method-image cardIcon \"+Gt(\"robloxCredit\")}),ge().createElement(\"div\",{className:\"roblox-credit-header text-emphasis\"},s)),ge().createElement(\"div\",{className:\"roblox-credit-balance\"},ge().createElement(\"div\",{className:\"balance-prefix\"},u),ge().createElement(Mo,{amount:a,currencyCode:o})),r?ge().createElement(te.Button,{className:\"convert-to-robux-button btn-secondary-md\",onClick:function(){(0,we.fireEvent)(Jt.CONVERT_CREDIT_CLICKED),i?p.open():d()}},t(Nn)):null)}function _i(e){var t=e.translate,l=e.systemFeedbackService,n=(h=(0,Ee.useState)(!0))[0],s=h[1],r=(o=(0,Ee.useState)(!1))[0],u=o[1],a=(m=(0,Ee.useState)(!1))[0],c=m[1],e=(i=(0,Ee.useState)(0))[0],d=i[1],o=(h=(0,Ee.useState)(0))[0],f=h[1],i=(m=(0,Ee.useState)(\"USD\"))[0],p=m[1],m=(h=(0,Ee.useState)(!1))[0],v=h[1],h=t(kn);return(0,Ee.useEffect)(function(){Bi(void 0,void 0,void 0,function(){var t,n,r,a,o,i;return Gi(this,function(e){switch(e.label){case 0:s(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,bn()];case 2:return i=e.sent(),t=i[0],n=i[1],r=i[2],a=i[3],o=i[4],i=i[5],u(t),c(n),d(r),f(a),p(o),v(i),[3,4];case 3:return e.sent(),l.warning(Or),[3,4];case 4:return s(!1),[2]}})})},[o]),r?ge().createElement(\"div\",{className:\"other-payment-methods-container\"}):ge().createElement(\"div\",{className:\"other-payment-methods-container\"},ge().createElement(\"h5\",null,h),n?ge().createElement(\"span\",{className:\"spinner spinner-default\"}):ge().createElement(ki,{translate:t,systemFeedbackService:l,showConvertButton:a,robuxAmount:e,balance:o,currencyCode:i,isConvertAllFlowEnabled:m,setZeroBalance:function(){return f(0)}}))}function Ni(e){function t(){return Hi(void 0,void 0,void 0,function(){var t,n;return Yi(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),(0,we.fireEvent)($t.GET_SAVED_PAYMENT_PROFILES_CALLED),[4,pn()];case 1:return t=e.sent(),0<(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.length)&&i&&f(t.data.slice()),(0,we.fireEvent)($t.GET_SAVED_PAYMENT_PROFILES_SUCCEEDED),[3,3];case 2:return e.sent(),(0,we.fireEvent)($t.GET_SAVED_PAYMENT_PROFILES_FAILED),a.warning(r(Or)),[3,3];case 3:return c(!1),[2]}})})}function n(){return Hi(void 0,void 0,void 0,function(){var t;return Yi(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=P.EnvironmentUrls.websiteUrl.includes(\"sitetest1\")?\"pk_test_51LNM0XG5RADBkfjhYJlpADA2ArzWIh7gTWTodYNbpEzSiT55dul3VJhaBIVHL0CNyO0gECOz1vPnWArAkjwQ8NBO00Cdf2PxED\":P.EnvironmentUrls.websiteUrl.includes(\"sitetest3\")?\"pk_test_51LNOeQHDRNiW7vlLcKH8TGCpJ7zhaidLdSegE22GCuvQbVUX2xDiGJY6WYaldYyo6qgVxmy1SnSVpSdaqyjfqclU00NQwWntIe\":\"pk_live_51LKpO9C8tJWGhK4HEHtny9Dg7xXiQJ1i349cq6KBDusbl8bRHO7QmCKKhX18LPjSirMNTvj3tesq6mhIQuPioeAd0062ZCgoF3\",(0,we.fireEvent)(en.LOAD_STRIPE_CALLED),[4,N(t)];case 1:return t=e.sent(),(0,we.fireEvent)(en.LOAD_STRIPE_SUCCEEDED),m(t),[3,3];case 2:return e.sent(),(0,we.fireEvent)(en.LOAD_STRIPE_FAILED),a.warning(r(Or)),[3,3];case 3:return[2]}})})}var r=e.translate,a=e.systemFeedbackService,o=e.hideAddCardButton,i=e.shouldDisplaySavedPaymentMethods,l=e.hideSavedPaymentMethodsIfNoSavedCards,s=!!P.DeviceMeta&&((0,P.DeviceMeta)().isAndroidApp||(0,P.DeviceMeta)().isIosApp),u=(g=(0,Ee.useState)(!0))[0],c=g[1],d=(h=(0,Ee.useState)([]))[0],f=h[1],p=(w=(0,Ee.useState)(null))[0],m=w[1],e=(b=(0,Ee.useState)(\"\"))[0],v=b[1],h=(g=(0,Ee.useState)(\"\"))[0],y=g[1],b=(w=(0,Ee.useState)(\"\"))[0],E=w[1],g=r(xn),w=r(fr);function C(e){var t;d&&((t=d.slice()).splice(e,1),f(t))}(0,Ee.useEffect)(function(){t()},[o,i]);var S,T=(0,Ee.useCallback)(function(){return Hi(void 0,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return[4,n()];case 1:return e.sent(),[4,Hi(void 0,void 0,void 0,function(){var t,n;return Yi(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),(0,we.fireEvent)($t.GET_PAYMENT_PROFILE_SETUP_CALLED),[4,un(qt.Stripe)];case 1:return n=e.sent(),(0,we.fireEvent)($t.GET_PAYMENT_PROFILE_SETUP_SUCCEEDED),v(null!==(t=null===(t=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.providerPayload)||void 0===t?void 0:t.clientSecret)&&void 0!==t?t:\"\"),null!==(t=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.providerPayload)&&void 0!==t&&t.stripeCustomerEmail?(y(null===(t=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.providerPayload)||void 0===t?void 0:t.stripeCustomerEmail),(0,we.fireEvent)(Qt.STRIPE_EMAIL_EXISTS)):(0,we.fireEvent)(Qt.STRIPE_EMAIL_DOES_NOT_EXIST),E(null!==(n=null===(n=null===(n=null==n?void 0:n.data)||void 0===n?void 0:n.providerPayload)||void 0===n?void 0:n.robloxUserEmail)&&void 0!==n?n:\"\"),[3,3];case 2:return e.sent(),(0,we.fireEvent)($t.GET_PAYMENT_PROFILE_SETUP_FAILED),a.warning(r(Or)),[3,3];case 3:return[2]}})})];case 2:return e.sent(),ji.open(),(0,we.fireEvent)(Qt.ADD_CARD_CLICKED),[2]}})})},[]),A=(0,Ee.useCallback)(function(){return Hi(void 0,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return[4,t()];case 1:return e.sent(),[2]}})})},[o,i]),l=!(l&&0===(null==d?void 0:d.length));return u||(d&&0<d.length?S=null==d?void 0:d.map(function(e,t){var n=e.providerPayload;return\"paypal\"===n.paymentProfileType?ge().createElement(jr,{key:e.id.substring(0,4),translate:r,systemFeedbackService:a,updatePaymentProfiles:function(){return C(t)},paymentProfileId:e.id,email:n.Email}):\"card\"===n.paymentProfileType?ge().createElement(Wr,{key:e.id.substring(0,4),translate:r,systemFeedbackService:a,updatePaymentProfiles:function(){return C(t)},paymentProfileId:e.id,cardType:n.CardNetwork,lastFour:n.Last4Digits,expMonth:n.ExpMonth,expYear:n.ExpYear}):null}):(S=l&&ge().createElement(\"div\",{className:\"no-payment-methods-text\"},w),(0,we.fireEvent)($t.GET_SAVED_PAYMENT_PROFILES_RETURNS_NONE))),ge().createElement(\"div\",{className:\"payment-methods-settings-container\"},p&&e?ge().createElement(D.Elements,{key:e,stripe:p&&e?p:null,options:p&&e?{clientSecret:e,wallets:{applePay:\"never\",googlePay:\"never\"},appearance:{theme:document.body.classList.contains(\"dark-theme\")?\"night\":\"stripe\",labels:\"above\"}}:void 0},ge().createElement(Wi,{translate:r,systemFeedbackService:a,onSuccess:function(){A()},stripeEmail:h,robloxEmail:b})):null,l&&ge().createElement(\"div\",{className:\"saved-payment-method-header-container\"},ge().createElement(\"h5\",null,g),s||o?null:ge().createElement(te.Button,{className:\"add-card-button btn-secondary-md\",onClick:function(){T(),(0,we.fireEvent)(Qt.ADD_CARD_CLICKED)}},r(ar))),u?ge().createElement(\"span\",{className:\"spinner spinner-default\"}):S,s?null:ge().createElement(_i,{translate:r,systemFeedbackService:a}))}function Di(e){var t=e.translate,n=e.subscriptionIconClassName,r=e.subscriptionName,a=e.showCancelButton,o=e.cancelSubscriptionUrl,i=e.autoRenewDate,l=e.expirationDate,e=t(zn)+\" \"+i,l=t(Kn)+\" \"+l;return ge().createElement(\"div\",{className:\"subscription-container\"},ge().createElement(\"span\",{className:n}),ge().createElement(\"div\",{className:\"subscription-desc\"},ge().createElement(\"div\",{className:\"subscription-header font-bold\"},r),\"\"!==i?ge().createElement(\"p\",null,e):ge().createElement(\"div\",{className:\"expiration-text\"},l)),\"\"!==i&&a?ge().createElement(te.Button,{className:\"cancel-subscription-button btn-secondary-md\",onClick:function(){(0,we.fireEvent)(Zt.CANCEL_CLICKED),window.location.href=o}},t(or)):null)}function Ri(e){var n=e.translate,r=e.systemFeedbackService,t=(0,Ee.useState)(null),a=t[0],o=t[1],i=(0,Ee.useState)(!0),l=i[0],s=i[1],u=n(Bn)||\"Subscriptions\",c=n(pr),d=\"\";return(0,Ee.useEffect)(function(){qi(void 0,void 0,void 0,function(){var t;return Xi(this,function(e){switch(e.label){case 0:s(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),(0,we.fireEvent)($t.GET_USER_PREMIUM_SUBSCRIPTION_CALLED),[4,hn(Vi.authenticatedUser.id)];case 2:return 200===(null==(t=e.sent())?void 0:t.status)&&((0,we.fireEvent)($t.GET_USER_PREMIUM_SUBSCRIPTION_SUCCEEDED),o(null==t?void 0:t.data)),[3,4];case 3:return 404===e.sent().status?(0,we.fireEvent)(Zt.NO_EXISTING_SUBSCRIPTION):((0,we.fireEvent)($t.GET_USER_PREMIUM_SUBSCRIPTION_FAILED),r.warning(n(Or))),[3,4];case 4:return s(!1),[2]}})})},[]),t=e=\"\",null!=a&&a.subscriptionProductModel.subscriptionName&&(i=(new P.Intl).getDateTimeFormatter(),null!=a&&a.subscriptionProductModel.renewal&&(e=i.getCustomDateTime(null==a?void 0:a.subscriptionProductModel.renewal,{month:\"short\",day:\"2-digit\",year:\"numeric\"})),null!=a&&a.subscriptionProductModel.expiration&&(t=i.getCustomDateTime(null==a?void 0:a.subscriptionProductModel.expiration,{month:\"short\",day:\"2-digit\",year:\"numeric\"}))),l?ge().createElement(\"div\",null,ge().createElement(\"h2\",{className:\"main-header\"},u),ge().createElement(\"span\",{className:\"spinner spinner-default\"})):null!==a?ge().createElement(\"div\",null,ge().createElement(\"h2\",{className:\"main-header\"},u),ge().createElement(Di,{translate:n,subscriptionIconClassName:\"icon-premium-medium\",subscriptionName:null==a?void 0:a.subscriptionProductModel.subscriptionName,showCancelButton:function(){var e=Vi.deviceMeta.getDeviceMeta();if(a&&a.subscriptionProductModel.purchasePlatform===jt){if(null==e||!e.isInApp||e.isUniversalApp&&e.isDesktop&&!e.isUWPApp)return d=Yt.urlService.getAbsoluteUrl(\"/upgrades/cancel-subscription\"),!0}else if(a&&a.subscriptionProductModel.purchasePlatform===Wt&&null!=e&&e.isAndroidApp)return d=\"https://play.google.com/store/account/subscriptions\",!0;return!1}(),cancelSubscriptionUrl:d,autoRenewDate:e,expirationDate:t})):ge().createElement(\"div\",null,ge().createElement(\"h2\",{className:\"main-header\"},u),ge().createElement(\"div\",{className:\"subscription-container\"},ge().createElement(\"p\",{className:\"no-subscription-text\"},c),ge().createElement(te.Button,{className:\"subscribe-button btn-secondary-md\",onClick:function(){(0,we.fireEvent)(Zt.SUBSCRIBE_CLICKED),window.location.href=Yt.urlService.getAbsoluteUrl(\"/premium/membership\")}},n(ir))))}function Ii(e,t){pa.eventStreamService.sendEventWithTarget(e,Ki.context.settingsSpending,t)}function Mi(e){Ii(Ki.eventName.authModalShown,{state:e,field:Ki.field.cancelModal,associatedText:Ki.text.cancelRequest})}var Ui=function(e){function t(){var e=ho().startCreditConversionFlow;return(0,Ee.useEffect)(function(){o.current=e},[e]),ge().createElement(Ee.Fragment,null,ge().createElement(wi,null),ge().createElement(xi,null))}var n=e.systemFeedbackService,r=e.translate,a=e.onSuccess,o=(0,Ee.useRef)(null);return[function(){return ge().createElement(vo,{systemFeedbackService:n,translate:r,onSuccess:a},ge().createElement(t,null))},function(e){var t;null!==(t=o.current)&&void 0!==t&&t.call(o,e)}]},Oi=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Li=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Fi=function(){var e=(0,te.createModal)(),W=e[0],j=e[1],V=(0,Ee.useRef)(null),q=(0,Ee.useRef)(null);return[function(e){var n=e.translate,r=e.systemFeedbackService,a=e.onSuccess,o=za(),t=(0,Ee.useState)(!1),c=t[0],i=t[1],l=(0,Ee.useState)(void 0),d=l[0],s=l[1],u=(0,Ee.useState)(void 0),f=u[0],p=u[1],m=(0,Ee.useState)(void 0),v=m[0],h=m[1],y=(0,Ee.useState)(0),b=y[0],E=y[1],g=(0,Ee.useState)(void 0),w=g[0],C=g[1],S=(0,Ee.useState)(0),T=S[0],A=S[1],P=(0,Ee.useState)(\"\"),e=P[0],x=P[1],t=(0,Ee.useState)(!1),k=t[0],_=t[1],l=(0,Ee.useState)(void 0),u=l[0],N=l[1],m=(0,Ee.useState)(!1),D=m[0],R=m[1],y=(0,Ee.useState)(!1),I=(y[0],y[1]),g=(0,Ee.useState)(!1),S=g[0],M=g[1],P=(0,Ee.useState)(!1),t=P[0],U=P[1],l=(0,Ee.useState)(!1),m=l[0],O=l[1],y=(0,Ee.useState)(!1),L=y[0],F=y[1],g=(0,Ee.useState)(void 0),P=g[0],B=g[1],G=(0,Ee.useCallback)(function(r){return Oi(void 0,void 0,void 0,function(){var t,n;return Li(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),R(!0),[4,na(o,r)];case 1:return n=e.sent(),(t=n.data).isSuccess&&(i(t.robloxManagedTax),s(t.checkoutSessionId),p(t.providerPayload.CheckoutSessionToken),I(t.hasBillingAddress),void 0!==t.taxRate&&h(t.taxRate),E(null!==(n=t.providerPayload.RobuxConversionAmount)&&void 0!==n?n:0),C(null!==(n=t.providerPayload.StrikethroughRobuxConversionAmount)&&void 0!==n?n:void 0),A(null!==(n=t.providerPayload.AvailableCreditBalance)&&void 0!==n?n:0),x(null!==(n=t.providerPayload.CurrencyCode)&&void 0!==n?n:\"\"),N(oo(t.providerPayload.TaxAmount,t.providerPayload.CurrencyCode,t.hasBillingAddress||void 0!==r)),ra(!0,t.robloxManagedTax,!1,null!==t.taxRate)),[3,4];case 2:return e.sent(),F(!0),[3,4];case 3:return R(!1),[7];case 4:return[2]}})})},[o]);(0,Ee.useEffect)(function(){V.current=B,q.current=G},[G]),(0,Ee.useEffect)(function(){var e=!L&&(!c||k&&!D);O(e&&(0<T&&0<b))},[T,b,c,k,D,L]);var l=(0,Ee.useCallback)(function(u){return Oi(void 0,void 0,void 0,function(){var t,n,r,a,o,i,l,s;return Li(this,function(e){switch(e.label){case 0:return(e.trys.push([0,2,,3]),d)?(R(!0),[4,sa(u,d)]):[2];case 1:return s=e.sent().data,t=s.providerPayload,n=t.AvailableCreditBalance,r=t.CurrencyCode,a=t.TaxAmount,o=t.CheckoutSessionToken,i=t.RobuxConversionAmount,l=t.StrikethroughRobuxConversionAmount,t.TotalDue,s=s.taxRate,E(null!=i?i:0),C(null!=l?l:void 0),A(n),x(r),N(oo(a,r,!0)),h(s),p(o),R(!1),oa(!0,c,!1),[3,3];case 2:return e.sent(),F(!0),oa(!1,c,!1),[3,3];case 3:return[2]}})})},[d,c]),y=(0,Ee.useCallback)(function(e){_(e)},[]),H=(0,Ee.useCallback)(function(e,t){t=!t;e?(r.success(n(t?ma.ConvertedCreditToRobuxSuccessAlert:ma.RobuxPackagePurchasedSuccessAlert)),a&&a(t)):r.warning(n(t?ma.ConvertedCreditToRobuxFailedAlert:ma.RobuxPackagePurchasedFailedAlert)||n(ma.GenericFailureAlert)||\"Something went wrong! Please try again later.\",Da.TIMEOUT_SHOW_MS,Da.TIMEOUT_HIDE_MS)},[r,n,a]),Y=(0,Ee.useCallback)(function(e,t){r.warning(e,Da.TIMEOUT_SHOW_MS,Da.TIMEOUT_HIDE_MS),j.close(),t&&(window.location.href=Yt.urlService.getAbsoluteUrl(\"/upgrades/robux\"))},[r]),g=(0,Ee.useCallback)(function(){return Oi(void 0,void 0,void 0,function(){var t;return Li(this,function(e){switch(e.label){case 0:c&&M(!0),U(!0),e.label=1;case 1:return e.trys.push([1,6,7,8]),f?[4,eo(function(){return ua(0,\"\",\"\",f,null==o?void 0:o.id,d)},{failedStatusPrefix:ga,onStatusError:function(){H(!1,0),U(!1)},onSuccess:function(e,t){H(t,0),j.close()}})]:[3,3];case 2:return e.sent(),[3,5];case 3:return[4,eo(function(){return ta(0)},{failedStatusPrefix:ga,onStatusError:function(){H(!1,0),U(!1)},onSuccess:function(e){var e=e.data;H(null!==(e=null==e?void 0:e.isSuccess)&&void 0!==e&&e,0),j.close()}})];case 4:e.sent(),e.label=5;case 5:return ia(!0,c,!1),[3,8];case 6:return(t=e.sent(),ia(!1,c,!1),Ja(t))?(Y($a({translate:n,violation:t.data.failureReason,timeoutDurationInMinutes:t.data.expirationTimeInMinutes}),!1),(0,we.fireEvent)(Aa),[2]):(Y(n(ma.GenericFailureAlert)||\"Something went wrong! Please try again later.\",!0),(0,we.fireEvent)(Ta),[3,8]);case 7:return U(!1),[7];case 8:return[2]}})})},[c,f,null==o?void 0:o.id,d,H,Y,n]);return ge().createElement(W,{id:\"convert-credit-modal\",title:n(ma.ConvertCreditToRobuxHeading)||\"Convert credit to Robux\",onNeutral:function(){return j.close()},body:[ge().createElement(\"div\",{key:\"order-summary\",className:\"order-summary bold\"},n(ma.OrderSummaryLabel)||\"Order Summary\"),ge().createElement(\"div\",{key:\"purchase-banner\",className:\"purchase-banner\"},ge().createElement(\"span\",{className:\"purchase-text\"},n(ma.RobuxPurchasedLabel)||\"Robux purchased\"),ge().createElement(\"span\",{className:\"robux-amount-container\"},ge().createElement(\"div\",{className:\"robux-amount\"},ge().createElement(\"span\",{className:\"low-cogs-robux-amount-inline\"},ge().createElement(\"span\",{className:\"icon-robux-28x28\",style:{transform:\"translateY(-2px)\"}}),b),b>(null!=w?w:Math.floor(b/1.25))&&ge().createElement(\"span\",{className:\"high-cogs-robux-amount-inline\"},ge().createElement(\"span\",{className:\"icon-robux-gray-16x16\",style:{transform:\"translateY(-2px)\"}}),null!=w?w:Math.floor(b/1.25))),ge().createElement(\"div\",{className:\"robux-amount-text\"},n(ma.IncludesUpToTwentyFivePercentMoreRobuxLabel)||\"Includes up to 25% more Robux\"))),ge().createElement(\"div\",{key:\"available-credit\",className:\"available-credit d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},n(\"Label.AvailableCredit\")||\"Available Credit\"),ge().createElement(Mo,{amount:T,currencyCode:e})),c&&ge().createElement(ge().Fragment,{key:\"tax-flow-sections\"},ge().createElement(Io,{key:\"tax-line\",translate:n,tax:u,taxRate:v,isLoading:D,taxDisplay:k}),ge().createElement(\"div\",{key:\"convertible-credit\",className:\"convertible-credit d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},n(ma.ConvertibleCredit)||\"Convertible Credit\"),ge().createElement(Mo,{amount:T-(k&&u?u.amount:0),currencyCode:e}))),ge().createElement(\"div\",{key:\"divider\",className:\"rbx-divider\"}),ge().createElement(\"div\",{key:\"remaining-balance\",className:\"remaining-balance d-flex justify-content-between row-pad\"},ge().createElement(\"span\",{className:\"bold\"},n(ma.RemainingBalance)||\"Remaining balance\"),ge().createElement(Mo,{amount:0,currencyCode:e})),c&&ge().createElement(\"div\",{key:\"billing-info-section\",className:\"billing-info-section\"},ge().createElement(Ro,{processAddressSave:S,onUpdateAddress:l,prefilledAddress:P,onTaxDisplayChange:y,triggeringContext:pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_REDEEM_PAGE})),ge().createElement(\"div\",{key:\"modal-footer-buttons\",className:\"modal-footer-buttons d-flex justify-content-between mt-4\"},t?ge().createElement(\"button\",{type:\"button\",className:\"btn-growth-md btn-full-width mr-2 loading-button-container\",disabled:!0},ge().createElement(\"span\",{className:\"loading-button-text\"},n(ma.ConvertToRobuxAction)),ge().createElement(\"span\",{className:\"spinner spinner-sm loading-button-spinner\"})):ge().createElement(te.Button,{variant:te.Button.variants.growth,size:te.Button.sizes.medium,width:te.Button.widths.full,onClick:g,isDisabled:!m,className:\"mr-2\"},n(ma.ConvertToRobuxAction)))],actionButtonShow:!1,size:\"md\",closeable:!0})},{open:function(e){V.current&&V.current(e),q.current&&q.current(e),j.open()},close:function(){return j.close()}}]},Bi=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Gi=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Hi=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Yi=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Wi=(le=$r())[0],ji=le[1],Vi=HeaderScripts,qi=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Xi=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},zi=function(e){var t=e.translate,n=e.titleResourceId,r=e.translatedTitle,a=e.bodyResourceId,o=e.translatedBody,i=e.actionButtonTextResourceId,l=e.neutralButtonTextResourceId,s=e.footerTextResourceId,u=e.size,c=void 0===u?\"lg\":u,d=e.footerHyperlink,f=e.onAction,p=e.disableActionButton,m=e.disabledNeutralButton,u=e.shouldCloseModalOnActionButton,v=void 0===u||u,u=e.onHide,h=void 0===u?function(){}:u,y=e.onNeutral,u=(0,Ee.useState)(!1),e=u[0],b=u[1],E=(0,Ee.useMemo)(function(){return{open:function(){return b(!0)},close:function(){return b(!1)}}},[]),u=Co()({\"modal-half-width-button\":l,\"modal-full-width-button\":!l});return[ge().createElement(te.Modal,{show:e,onHide:function(){E.close(),h()},backdrop:!0,className:\"user-settings-modal\",size:c,\"aria-labelledby\":\"user-settings-modal-title\",scrollable:!0,centered:!0},ge().createElement(te.Modal.Header,{useBaseBootstrapComponent:!0},ge().createElement(\"div\",{className:\"user-settings-modal-title-container\"},ge().createElement(te.Modal.Title,{id:\"user-settings-modal-title\"},r||n&&t(n))),ge().createElement(\"button\",{type:\"button\",className:\"close close-button\",onClick:function(){E.close(),h()}},ge().createElement(\"span\",{className:\"icon-close\"}))),ge().createElement(te.Modal.Body,null,o||a&&t(a)),ge().createElement(te.Modal.Footer,null,i&&ge().createElement(te.Button,{className:u,variant:te.Button.variants.primary,size:te.Button.sizes.medium,isDisabled:p,onClick:function(){v&&E.close(),null!=f&&f()}},t(i)),l&&ge().createElement(te.Button,{className:u,variant:te.Button.variants.secondary,size:te.Button.sizes.medium,isDisabled:m,onClick:function(){E.close(),null!=y&&y()}},t(l))),s&&d&&ge().createElement(\"div\",{className:\"text-footer user-settings-modal-text-footer border-top\"},ge().createElement(\"span\",null,ge().createElement(\"div\",{className:\"icon-moreinfo\"}),ge().createElement(\"a\",{className:\"text-link user-settings-modal-text-footer-link\",target:\"_blank\",rel:\"noreferrer\",href:d},t(s))))),E]},Ki={eventName:{authPageLoad:\"authPageload\",authButtonClick:\"authButtonClick\",authFormInteraction:\"authFormInteraction\",authMsgShown:\"authMsgShown\",authModalShown:\"authModalShown\"},context:{settingsSpending:\"settingsSpending\"},state:{spendingDisplayAllowPurchases:\"spendingDisplayAllowPurchases\",spendingHideAllowPurchases:\"spendingHideAllowPurchases\",paymentMethods:\"paymentMethods\",allowPurchases:\"allowPurchases\",spendLimit:\"spendLimit\"},field:{askParentConfirm:\"askParentConfirm\",cancelModal:\"cancelModal\"},btn:{askParentTexas:\"askParentTexas\",askParent:\"askParent\",askParentConfirm:\"askParentConfirm\",cancelAskParentConfirm:\"cancelAskParentConfirm\",cancelRequest:\"cancelRequest\",doNotCancelRequest:\"doNotCancelRequest\",cancel:\"cancel\"},text:{paymentMethods:\"Payment methods\",spending:\"Spending\",askMyParent:\"Ask My Parent\",askYourParent:\"Ask your parent\",askNow:\"Ask now\",cancel:\"Cancel\",cancelRequest:\"Cancel request\",cancelRequestCapitalized:\"Cancel Request\",doNotCancel:\"Do Not Cancel\"}},Qi=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Ji=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Zi=function(e){var r=e.systemFeedbackService,a=e.translate,o=e.onSuccess,i=e.consentId,l=e.state,t=zi({translate:a,titleResourceId:Yn,bodyResourceId:_r,actionButtonTextResourceId:cr,neutralButtonTextResourceId:dr,size:\"sm\",onAction:function(){return Qi(void 0,void 0,void 0,function(){return Ji(this,function(e){switch(e.label){case 0:if(t=l,Ii(Ki.eventName.authButtonClick,{btn:Ki.btn.cancelRequest,state:t,associatedText:Ki.text.cancelRequest}),!i)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(n=i,ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/child-requests-api/v1/cancel-consent-request\"},[2,Yt.httpService.post(t,{consentId:n})]})}))];case 2:return e.sent(),o(),r.success(a(Fr)),[3,4];case 3:return e.sent(),r.warning(a(Or)),[3,4];case 4:return[2]}var n,t})})},onNeutral:function(){var e;e=l,Ii(Ki.eventName.authButtonClick,{btn:Ki.btn.doNotCancelRequest,state:e,associatedText:Ki.text.doNotCancel})}}),e=t[0],n=t[1];return[e,{open:function(){var e;e=l,Ii(Ki.eventName.authModalShown,{state:e,field:Ki.field.cancelModal,associatedText:Ki.text.cancelRequest}),n.open()},close:n.close}]};function $i(e){return e=e.translate,ge().createElement(\"div\",{className:\"setting-option-pill xsmall \"},ge().createElement(\"span\",{className:\"icon-uiblox-pending themified-icon\"}),ge().createElement(\"span\",{className:\"setting-option-label\"},e(nr)))}(le=function(e){var t=e.title,n=e.description,r=e.currentSettingValueComponent,a=e.metadata,o=e.showArrow,i=e.onClick,l=e.footer,s=e.disabled,u=Co()(\"spending-settings-list-item-container\",{\"text-disabled\":s}),c=Co()(\"spending-settings-list-item-info\",{\"text-disabled\":s}),e=Co()(\"spending-settings-list-item-value-arrow\",{\"text-disabled\":s});return ge().createElement(\"div\",null,ge().createElement(\"button\",{className:u,type:\"button\",onClick:i,disabled:s},ge().createElement(\"div\",{className:c},ge().createElement(\"span\",{className:\"spending-setting-name font-body \"},t),n&&ge().createElement(\"span\",{className:\"small text\"},n)),a,(r||o)&&ge().createElement(\"div\",{className:e},r,o&&ge().createElement(\"div\",null,ge().createElement(\"span\",{className:\"icon-chevron-heavy-right\"})))),l&&ge().createElement(\"p\",{className:\"spending-settings-list-item-footer small text\",dangerouslySetInnerHTML:{__html:l}}))}).defaultProps={description:void 0,currentSettingValueComponent:void 0,metadata:void 0,showArrow:!1,onClick:void 0,footer:void 0,disabled:!1};var el=le;function tl(e){function n(){return il(void 0,void 0,void 0,function(){var t;return ll(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(n=Vi.authenticatedUser.id,ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return[4,Sn(n,void 0,t=[])];case 1:return e.sent(),[2,t.find(function(e){return void 0!==(null===(e=null==e?void 0:e.consentData)||void 0===e?void 0:e.monthlySpendLimit)})||null]}})}))];case 1:return t=e.sent(),s(t),[3,3];case 2:return e.sent(),a.warning(r(Or)),[3,3];case 3:return[2]}var n})})}var t=e.enablePurchaseSettings,r=e.translate,a=e.systemFeedbackService,o=(c=(0,Ee.useState)(null))[0],i=c[1],l=(f=(0,Ee.useState)())[0],s=f[1],u=(null==t?void 0:t.currentValue)===ol.Disabled;(0,Ee.useEffect)(function(){il(void 0,void 0,void 0,function(){var t;return ll(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,En()];case 1:return t=e.sent(),i(t),[3,3];case 2:return e.sent(),a.warning(r(Or)),[3,3];case 3:return[2]}})}),n()},[]),(0,Ee.useEffect)(function(){window.dispatchEvent(new CustomEvent(\"price-tag:render\",{detail:{targetSelector:\".fiat-spending-limit-tag\",tagClassName:\"font-body\"}}))},[o]);var c=(e=zi({translate:r,titleResourceId:Hn,bodyResourceId:kr,actionButtonTextResourceId:ur,neutralButtonTextResourceId:or,size:\"sm\",onAction:function(){return il(void 0,void 0,void 0,function(){return ll(this,function(e){switch(e.label){case 0:return t=Ki.state.spendLimit,Ii(Ki.eventName.authButtonClick,{btn:Ki.btn.askParentConfirm,state:t,associatedText:Ki.text.askNow}),[4,il(void 0,void 0,void 0,function(){return ll(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,P.AccessManagementUpsellV2Service.startAccessManagementUpsell({featureName:an,isAsyncCall:!1,usePrologue:!1,ampRecourseData:{monthlySpendLimit:null,monthlySpendLimitCurrencyCode:null}})];case 1:return e.sent(),[4,n()];case 2:return e.sent(),[3,4];case 3:return e.sent(),a.warning(r(Or)),[3,4];case 4:return[2]}})})];case 1:return e.sent(),[2]}var t})})},onNeutral:function(){var e;e=Ki.state.spendLimit,Ii(Ki.eventName.authButtonClick,{btn:Ki.btn.cancelAskParentConfirm,state:e,associatedText:Ki.text.cancel})}}))[0],d=e[1],f=null!==(null==o?void 0:o.monthlySpendLimit)&&void 0!==(null==o?void 0:o.monthlySpendLimit),t=ge().createElement(\"span\",{className:\"fiat-spending-limit-tag\",\"data-amount\":null==o?void 0:o.monthlySpendLimit,\"data-currency-code\":null==o?void 0:o.monthlySpendLimitCurrencyType}),o=(e=Zi({systemFeedbackService:a,translate:r,consentId:null==l?void 0:l.id,onSuccess:n,state:Ki.state.spendLimit}))[0],p=e[1],e=function(){return r(Rr,{linkStart:'<a href=\"https://help.roblox.com/hc/articles/4409125091348\" class=\"text-link\" target=\"_blank\">',linkEnd:\"</a>\"})};return f?ge().createElement(ge().Fragment,null,ge().createElement(\"div\",{className:\"section-content spending-setting-container\"},ge().createElement(el,{disabled:u,title:r(er),currentSettingValueComponent:ge().createElement(ge().Fragment,null,l&&ge().createElement($i,{translate:r}),t),onClick:function(){var e;u||(l?p.open():(e=Ki.state.spendLimit,Ii(Ki.eventName.authModalShown,{field:Ki.field.askParentConfirm,state:e,associatedText:Ki.text.askYourParent}),d.open()))},showArrow:!0,footer:e()}),ge().createElement(\"div\",{className:\"request-consent-button-container\"},l&&ge().createElement(te.Button,{variant:te.Button.variants.secondary,onClick:function(){Mi(Ki.state.spendLimit),p.open()}},r(Yn))),c,o)):(o=ge().createElement(\"span\",{className:\"text-description\"},r(tr)),ge().createElement(\"div\",{className:\"section-content spending-setting-container\"},ge().createElement(el,{title:r(er),currentSettingValueComponent:o,footer:e()})))}function nl(e){return e=e.translate,ge().createElement(\"div\",{className:\"setting-option-pill xsmall \"},ge().createElement(\"span\",{className:\"icon-status-private themified-icon\"}),ge().createElement(\"span\",{className:\"setting-option-label\"},e(rr)))}(le=al=al||{}).Disabled=\"Disabled\",le.Enabled=\"Enabled\";var rl,al,ol=al,il=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},ll=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function sl(e){function n(){return vl(void 0,void 0,void 0,function(){var t;return hl(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(n=Vi.authenticatedUser.id,ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return[4,Sn(n,void 0,t=[])];case 1:return e.sent(),[2,t.find(function(e){return void 0!==(null===(e=null==e?void 0:e.consentData)||void 0===e?void 0:e.enablePurchases)})||null]}})}))];case 1:return t=e.sent(),l(t),d(m),p(!1),[3,3];case 2:return e.sent(),i.warning(o(Or)),[3,3];case 3:return[2]}var n})})}var r=e.enablePurchaseSettings,a=e.refetchEnablePurchaseSettings,o=e.translate,i=e.systemFeedbackService,t=(h=(0,Ee.useState)())[0],l=h[1],s=(f=(0,Ee.useState)(!1))[0],u=f[1],c=(e=(0,Ee.useState)(!1))[0],d=e[1],f=(h=(0,Ee.useState)(!1))[0],p=h[1],m=r.currentValue===ol.Enabled;function v(){return vl(void 0,void 0,void 0,function(){var t;return hl(this,function(e){switch(e.label){case 0:return s?[4,vl(void 0,void 0,void 0,function(){return hl(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,P.AccessManagementUpsellV2Service.startAccessManagementUpsell({featureName:an,isAsyncCall:!1,usePrologue:!1,ampRecourseData:{enablePurchases:ol.Enabled}})];case 1:return e.sent(),[4,n()];case 2:return e.sent(),[3,4];case 3:return e.sent(),i.warning(o(Or)),[3,4];case 4:return[2]}})})]:[3,2];case 1:return e.sent(),[3,3];case 2:t=c?ol.Disabled:ol.Enabled,vn(t).then(function(){d(t===ol.Enabled),i.success(o(Fr)),a(),ml()}).catch(function(e){i.warning(o(Or))}),e.label=3;case 3:return[2]}})})}(0,Ee.useEffect)(function(){n(),r.options.forEach(function(e){var t=e.requirement;e.option.optionValue!==r.currentValue&&t===pl.ParentalConsent&&u(!0),d(m)})},[r]);var h=(e=Zi({systemFeedbackService:i,translate:o,consentId:null==t?void 0:t.id,onSuccess:n,state:Ki.state.allowPurchases}))[0],y=e[1];return ge().createElement(ge().Fragment,null,ge().createElement(\"div\",{className:\"section-content spending-setting-container\"},ge().createElement(el,{title:o(Wn),currentSettingValueComponent:ge().createElement(ge().Fragment,null,t&&ge().createElement($i,{translate:o}),s&&!t&&ge().createElement(nl,{translate:o}),ge().createElement(te.Toggle,{id:\"allow-purchases-toggle\",isOn:c,onToggle:function(){return vl(void 0,void 0,void 0,function(){return hl(this,function(e){switch(e.label){case 0:return t?(y.open(),[2]):s&&!c!=m?(d(function(e){return!e}),p(!0),[2]):s?[3,2]:[4,v()];case 1:return e.sent(),[2];case 2:return d(function(e){return!e}),p(!1),[2]}})})}})),footer:o(Nr,{premiumSubscriptionsLinkStart:'<a href=\"https://help.roblox.com/hc/articles/203312540\" class=\"text-link\" target=\"_blank\">',premiumSubscriptionsLinkEnd:\"</a>\",inExperienceSubscriptionsLinkStart:'<a href=\"https://help.roblox.com/hc/articles/20292396051220\" class=\"text-link\" target=\"_blank\">',inExperienceSubscriptionsLinkEnd:\"</a>\"})}),ge().createElement(\"div\",{className:\"request-consent-button-container\"},f&&!t&&ge().createElement(te.Button,{className:\"enable-purchase-action-button\",variant:te.Button.variants.primary,onClick:function(){return vl(void 0,void 0,void 0,function(){return hl(this,function(e){switch(e.label){case 0:return t=Ki.state.allowPurchases,Ii(Ki.eventName.authButtonClick,{btn:Ki.btn.askParent,state:t,associatedText:Ki.text.askMyParent}),[4,v()];case 1:return e.sent(),[2]}var t})})}},o(Hn)),t&&ge().createElement(te.Button,{className:\"enable-purchase-action-button\",variant:te.Button.variants.secondary,onClick:function(){Mi(Ki.state.allowPurchases),y.open()}},o(Yn)))),h)}function ul(e){var t=e.translate,i=e.systemFeedbackService,n=!!P.DeviceMeta&&((0,P.DeviceMeta)().isAndroidApp||(0,P.DeviceMeta)().isIosApp),r=(c=(0,Ee.useState)(!0))[0],l=c[1],a=(m=(0,Ee.useState)(!0))[0],s=m[1],o=(f=(0,Ee.useState)(!1))[0],u=f[1],c=(e=(0,Ee.useState)(0))[0],d=e[1],f=(m=(0,Ee.useState)(0))[0],p=m[1],m=(e=(0,Ee.useState)(\"USD\"))[0],v=e[1],e=t(Tn);return(0,Ee.useEffect)(function(){yl(void 0,void 0,void 0,function(){var t,n,r,a,o;return bl(this,function(e){switch(e.label){case 0:l(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,bn()];case 2:return o=e.sent(),t=o[0],n=o[1],r=o[2],a=o[3],o=o[4],s(t),u(n),d(r),p(a),v(o),[3,4];case 3:return e.sent(),i.warning(Or),[3,4];case 4:return l(!1),[2]}})})},[f]),n||a?ge().createElement(\"div\",null):ge().createElement(\"div\",null,ge().createElement(\"h2\",null,e),r?ge().createElement(\"span\",{className:\"spinner spinner-default\"}):ge().createElement(ki,{translate:t,systemFeedbackService:i,showConvertButton:o,robuxAmount:c,balance:f,currencyCode:m,setZeroBalance:function(){return p(0)}}))}function cl(e){var t,n=e.translate,r=e.systemFeedbackService,a=(i=(0,Ee.useState)(null))[0],o=i[1],i=(e=(0,Ee.useState)(!0))[0],l=e[1];if((0,Ee.useEffect)(function(){El(void 0,void 0,void 0,function(){var t;return gl(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,En()];case 1:return t=e.sent(),o(t),[3,3];case 2:return e.sent(),r.warning(n(Or)),[3,3];case 3:return l(!1),[2]}})})},[]),i)return ge().createElement(\"div\",{className:\"section-content spending-setting-container\"},ge().createElement(\"span\",{className:\"spinner spinner-default\"}));if(null==a||!a.isSpendNotificationSettingEnabledForUser)return null;switch(a.spendNotificationSetting){case\"NotificationsEveryAmountSpent\":t=n(Ur);break;case\"NotificationsOnlyOnThresholdPassed\":t=n(Mr);break;default:t=void 0}return t?ge().createElement(\"div\",{className:\"section-content spending-setting-container\"},ge().createElement(el,{title:n(jn),description:t})):null}function dl(e){var t=e.systemFeedbackService,n=e.translate,r=(0,Ee.useState)(),a=r[0],o=r[1],i=n(Pn),l=n(Un),s=n(hr),e=(c=Br())[0],u=c[1],c=(r=wl())[0],d=r[1];return(0,Ee.useEffect)(function(){Cl(void 0,void 0,void 0,function(){var t,n,r,a;return Sl(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,wn()];case 1:return a=e.sent().data.address,t=a.country,n=a.state,r=a.city,a=a.postalCode,o({country:t,state:n,city:r,postalCode:a}),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})})},[]),a?(r=a.postalCode?a.city+\", \"+a.state+\", \"+a.postalCode+\", \"+a.country:a.city+\", \"+a.state+\", \"+a.country,ge().createElement(\"div\",{className:\"saved-gift-card-information-container\"},ge().createElement(\"h5\",null,\" \",i,\" \"),ge().createElement(\"div\",{className:\"billing-address-container\"},ge().createElement(e,{translate:n,header:l,cancelText:s,onDelete:function(){return Cl(void 0,void 0,void 0,function(){return Sl(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Cn()];case 1:return e.sent(),t.success(n(gr)),o(void 0),[3,3];case 2:return e.sent(),t.warning(n(Or)),[3,3];case 3:return[2]}})})}}),ge().createElement(c,{translate:n,systemFeedbackService:t,onUpdateSuccess:function(e){o(e)},address:a}),ge().createElement(\"p\",{className:\"billing-address-label\"},r),ge().createElement(\"button\",{type:\"button\",className:\"btn-generic-edit-sm\",onClick:function(){d.open()}},ge().createElement(\"span\",{className:\"icon-edit\"})),ge().createElement(\"button\",{type:\"button\",className:\"btn-generic-trash-bin-sm\",onClick:function(){u.open()}},ge().createElement(\"span\",{className:\"icon-trash-bin\"}))))):null}function fl(e){function t(){return Tl(void 0,void 0,void 0,function(){var t;return Al(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,ln(void 0,void 0,Promise,function(){return sn(this,function(e){return[2,P.Guac.callBehaviour(\"account-settings-ui\")]})})];case 1:return t=e.sent(),v(t),[4,ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:P.EnvironmentUrls.userSettingsApi+\"/v1/user-settings/metadata\"},[4,Yt.httpService.get(t)];case 1:return[2,e.sent().data]}})})];case 2:return(t=e.sent())&&h(t),[3,4];case 3:return e.sent(),a.warning(r(Or)),[3,4];case 4:return[2]}})})}function n(){return Tl(void 0,void 0,void 0,function(){var t;return Al(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ln(void 0,void 0,Promise,function(){var t,n;return sn(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:P.EnvironmentUrls.userSettingsApi+\"/v1/user-settings/settings-and-options\"},[4,Yt.httpService.get(t)];case 1:return t=e.sent(),n=on({},t.data),Object.entries(t.data).forEach(function(e){var t=e[0],e=e[1];void 0!==(null==e?void 0:e.options)&&0!==(null===(e=null==e?void 0:e.options)||void 0===e?void 0:e.length)||delete n[t]}),[2,n]}})})];case 1:return t=e.sent(),b(t),[3,3];case 2:return e.sent(),a.warning(r(Or)),[3,3];case 3:return[2]}})})}var r=e.translate,a=e.systemFeedbackService,o=(f=(0,Ee.useState)(!0))[0],i=f[1],l=(E=(0,Ee.useState)(!1))[0],s=E[1],u=(0,Ee.useState)(!1),c=u[0],d=u[1],f=(e=(0,Ee.useState)(!1))[0],p=e[1],m=(E=(0,Ee.useState)())[0],v=E[1],e=(u=(0,Ee.useState)())[0],h=u[1],y=(E=(0,Ee.useState)())[0],b=E[1],E=(u=(0,Ee.useState)(!1))[0],g=u[1];(0,Ee.useEffect)(function(){Tl(void 0,void 0,void 0,function(){var t;return Al(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),(0,we.fireEvent)($t.GET_USER_BIRTHDATE_CALLED),[4,dn()];case 1:return t=e.sent(),(0,we.fireEvent)($t.GET_USER_BIRTHDATE_SUCCEEDED),18<=S(new Date,new Date(t.data.birthYear,t.data.birthMonth-1,t.data.birthDay))&&i(!1),[3,3];case 2:return e.sent(),(0,we.fireEvent)($t.GET_USER_BIRTHDATE_FAILED),a.warning(r(Or)),[3,3];case 3:return[2]}})}),Tl(void 0,void 0,void 0,function(){var t;return Al(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fn()];case 1:return t=e.sent(),d(t.data.isPaymentProviderEnabledForUser),p(t.data.isUserVpcApproved),[3,3];case 2:return e.sent(),a.warning(r(Or)),[3,3];case 3:return[2]}})}),t(),n(),Tl(void 0,void 0,void 0,function(){var t;return Al(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,gn()];case 1:return t=e.sent(),s(0<(null!==(t=null===(t=t.parents)||void 0===t?void 0:t.length)&&void 0!==t?t:0)),[3,3];case 2:return e.sent(),s(!1),[3,3];case 3:return[2]}})}),ln(void 0,void 0,Promise,function(){var t;return sn(this,function(e){switch(e.label){case 0:return t={withCredentials:!0,url:P.EnvironmentUrls.apiGatewayUrl+\"/v1/subscriptions/metadata\"},[4,Yt.httpService.get(t)];case 1:return[2,e.sent().data.isPaymentMethodChangesEnabled]}})}).then(function(e){return g(e)}).catch(function(){return g(!1)})},[]);var w=(0,Ee.useRef)(!0);(0,Ee.useEffect)(function(){var e;w.current&&y&&m&&(w.current=!1,null!=m&&m.renamePaymentsToSpendingTab&&(e=y.enablePurchases?Ki.state.spendingDisplayAllowPurchases:Ki.state.spendingHideAllowPurchases,Ii(Ki.eventName.authPageLoad,{state:e,associatedText:Ki.text.spending})))},[m,y]);var C=null;switch(null==m?void 0:m.spendingNotificationDescription){case Xt.GlobalTeen:C=ge().createElement(\"div\",{className:\"text-description text-new-line\",dangerouslySetInnerHTML:{__html:r(Ir,{linkStart:'<a href=\"https://help.roblox.com/hc/categories/200213820\" class=\"text-link\" target=\"_blank\">',linkEnd:\"</a>\"})}});break;case Xt.U13:C=ge().createElement(\"div\",{className:\"text-description text-new-line\"},r(Dr));break;case Xt.O18:}return ge().createElement(\"div\",{className:\"setting-container\"},ge().createElement(\"h2\",null,null!=m&&m.renamePaymentsToSpendingTab?r(An):r(Tn)),C,void 0!==(null==y?void 0:y.enablePurchases)&&ge().createElement(sl,{enablePurchaseSettings:y.enablePurchases,refetchEnablePurchaseSettings:n,translate:r,systemFeedbackService:a}),(null==e?void 0:e.displaySpendLimitSettings)&&ge().createElement(tl,{enablePurchaseSettings:null==y?void 0:y.enablePurchases,translate:r,systemFeedbackService:a}),o&&l&&ge().createElement(cl,{translate:r,systemFeedbackService:a}),o&&!E?ge().createElement(ul,{translate:r,systemFeedbackService:a}):ge().createElement(Ni,{translate:r,systemFeedbackService:a,hideAddCardButton:o||!c,shouldDisplaySavedPaymentMethods:c&&f,hideSavedPaymentMethodsIfNoSavedCards:o}),ge().createElement(dl,{systemFeedbackService:a,translate:r}),!E&&ge().createElement(Ri,{translate:r,systemFeedbackService:a}))}(al=rl=rl||{}).None=\"None\",al.ParentalConsent=\"ParentalConsent\",al.SelfUpdateSetting=\"SelfUpdateSetting\",al.ContentAgeRestrictionVerification=\"ContentAgeRestrictionVerification\",al.ParentConsentInherited=\"ParentConsentInherited\",al.Inherited=\"Inherited\";var pl=rl,ml=function(){var e=new CustomEvent(\"refetchUserSettingsEvent\");window.dispatchEvent(e)},vl=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},hl=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},yl=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},bl=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},El=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},gl=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},wl=function(){var e=(0,Ee.useState)(!1),v=e[0],t=e[1],h=(0,Ee.useMemo)(function(){return{open:function(){return t(!0)},close:function(){return t(!1)}}},[]);return[function(e){var t=e.translate,n=e.systemFeedbackService,r=e.onUpdateSuccess,a=e.address,o=(0,Ee.useState)(!1),i=o[0],l=o[1],s=(0,Ee.useState)(!1),u=s[0],c=s[1],d=(0,Ee.useState)(!1),e=d[0],f=d[1],o=(0,Ee.useState)(),p=o[0],m=o[1],s=(0,Ee.useCallback)(function(e){switch(e.country){case\"US\":e.city&&e.state&&e.postalCode&&(e.country!==a.country||e.state!==a.state||e.city!==a.city||e.postalCode!==a.postalCode)&&(c(!0),m(e));break;case\"CA\":e.city&&e.state&&(e.country!==a.country||e.state!==a.state||e.city!==a.city)&&(c(!0),m(e))}},[a.city,a.country,a.postalCode,a.state]),d=(0,Ee.useCallback)(function(){l(!0),f(!0)},[]),o=(0,Ee.useCallback)(function(){p&&(r(p),n.success(t(xr)),l(!1),h.close())},[r,n,t,p]);return ge().createElement(te.Modal,{show:v,onHide:h.close,size:\"md\",id:\"update-payment-method-modal\"},ge().createElement(te.Modal.Header,{title:t(On),onClose:h.close}),ge().createElement(te.Modal.Body,null,ge().createElement(Ro,{prefilledAddress:a,onUpdateAddress:s,processAddressSave:e,onUpdateSuccess:o,hideSaveSection:!0,triggeringContext:pa.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_PAYMENT_METHODS_SETTING})),ge().createElement(\"div\",{className:\"footer-divider\"}),ge().createElement(te.Modal.Footer,null,ge().createElement(\"div\",{className:\"modal-buttons\"},ge().createElement(te.Button,{variant:te.Button.variants.secondary,width:te.Button.widths.full,size:te.Button.sizes.large,className:\"action-button\",onClick:h.close},t(or)),ge().createElement(te.Button,{width:te.Button.widths.full,size:te.Button.sizes.large,className:\"action-button\",isLoading:i,isDisabled:!u,onClick:d},t(lr)))))},h]},Cl=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Sl=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Tl=function(e,i,l,s){return new(l=l||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})},Al=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError(\"Generator is already executing.\");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Pl=(0,n.withTranslations)(function(e){var t=e.translate,n=(0,te.createSystemFeedback)(),e=n[0],n=n[1];return ge().createElement(ge().Fragment,null,ge().createElement(fl,{translate:t,systemFeedbackService:n}),ge().createElement(e,null))},r),r={renderComponent:function(e){e=document.getElementById(e);return null!==e&&((0,t.unmountComponentAtNode)(e),(0,t.render)(ge().createElement(Pl,null),e),!0)}};Object.assign(e(),{PaymentSetting:r})}()}();\n//# sourceMappingURL=https://sourcemaps.rbxcdn.com/75cfce98afb3e3669489f3de20387b47-paymentMethodsSetting.bundle.min.js.map\n\n/* Bundle detector */\nwindow.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected(\"PaymentMethodsSetting\");"
  }
}